import{r as g,a as Ke,b as Qe}from"./vendor-BaVwoRKI.js";import{u as ke,L as D,a as W,b as Se,B as Xe,R as es,c as O}from"./router-DuZTsSrQ.js";import{C as Q,X as U,B as de,P as z,U as M,F as Y,S as Re,M as ss,a as Ce,b as ts,c as Ae,I as as,H as J,d as Z,G as rs,L as is,e as ns,f as ls,T as Te,g as De,A as V,h as X,D as me,i as cs,j as Ee,k as ge,l as os,m as fe,n as ds,o as ms,p as xs,q as hs,r as ps}from"./icons-DaGjxe5u.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();var Ie={exports:{}},ee={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=g,gs=Symbol.for("react.element"),fs=Symbol.for("react.fragment"),bs=Object.prototype.hasOwnProperty,ys=us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,js={key:!0,ref:!0,__self:!0,__source:!0};function Fe(s,t,a){var n,r={},c=null,o=null;a!==void 0&&(c=""+a),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)bs.call(t,n)&&!js.hasOwnProperty(n)&&(r[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:gs,type:s,key:c,ref:o,props:r,_owner:ys.current}}ee.Fragment=fs;ee.jsx=Fe;ee.jsxs=Fe;Ie.exports=ee;var e=Ie.exports,ne={},be=Ke;ne.createRoot=be.createRoot,ne.hydrateRoot=be.hydrateRoot;function Le(s){return Array.isArray(s.ingredients)&&s.ingredients.length>0&&typeof s.instructions=="string"&&!G(s)}function G(s){return!!(s.sections&&s.sections.length>0)}const Pe="myRecipesData",Oe="recipeViewMode",B=s=>{try{localStorage.setItem(Pe,JSON.stringify(s))}catch(t){console.error("Failed to save recipes to localStorage:",t)}},Me=()=>{try{const s=localStorage.getItem(Pe);if(!s)return[];const t=JSON.parse(s);if(!Array.isArray(t))return console.error("Invalid data format in localStorage - expected array, got:",typeof t),[];const a=t.filter(n=>!(!n||typeof n!="object"||!n.id||!n.title));return a.length!==t.length&&console.warn(`Filtered out ${t.length-a.length} invalid recipes`),a}catch(s){return console.error("Failed to load recipes from localStorage:",s),[]}},vs=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),ye=s=>{const t=new Date().toISOString();return{...s,id:vs(),createdAt:t,updatedAt:t}},Ns=s=>({...s,updatedAt:new Date().toISOString()}),ws=s=>{if(G(s))return s;if(Le(s)){const t={label:"Main",ingredients:Array.isArray(s.ingredients)?s.ingredients:[],instructions:typeof s.instructions=="string"?s.instructions.split(`
`).filter(a=>a.trim()):[]};return{...s,sections:[t]}}return{...s,sections:[{label:"Main",ingredients:[],instructions:[]}]}},ks=()=>{try{const t=Me().map(a=>{try{return ws(a)}catch(n){return console.error("Failed to migrate recipe:",a.title,n),a}});return B(t),t}catch(s){return console.error("Failed to migrate recipes:",s),[]}},je=()=>{const s=Me();return s.some(a=>Le(a)&&!G(a))?(console.log("Migrating recipes to sections format..."),ks()):s},Ss=s=>G(s)&&s.sections?s.sections.flatMap(a=>a.ingredients).filter(a=>a.trim()!==""):s.ingredients.filter(t=>t.trim()!==""),Rs=s=>{if(G(s)&&s.sections)return s.sections.filter(t=>t.instructions.length>0).map(t=>({label:t.label||"Main",instructions:t.instructions.filter(a=>a.trim()!=="")}));if(s.instructions){const t=s.instructions.split(`
`).filter(a=>a.trim()!=="");return t.length>0?[{label:"Main",instructions:t}]:[]}return[]},Cs=(s,t)=>{if(!t.trim())return!0;const a=t.toLowerCase();return s.title.toLowerCase().includes(a)||s.tags.some(n=>n.toLowerCase().includes(a))||s.ingredients.some(n=>n.toLowerCase().includes(a))||s.instructions.toLowerCase().includes(a)?!0:G(s)&&s.sections?s.sections.some(n=>!!(n.label.toLowerCase().includes(a)||n.ingredients.some(r=>r.toLowerCase().includes(a))||n.instructions.some(r=>r.toLowerCase().includes(a)))):!1},As=s=>{const t=[],a=[];if(!s||s.length===0)return{isValid:!0,errors:t,duplicateLabels:a};const n=new Map;return s.forEach(r=>{const c=r.label.trim();if(!c)return;const o=c.toLowerCase(),x=n.get(o)||0;n.set(o,x+1),x===1&&(a.push(c),t.push(`Section label "${c}" is used multiple times`))}),{isValid:t.length===0,errors:t,duplicateLabels:a}},Ts=(s,t,a)=>{if(!a.trim())return null;const n=a.toLowerCase();return s.some((c,o)=>o!==t&&c.label.toLowerCase()===n)?`Section label "${a}" is already used`:null},Ds=s=>{try{localStorage.setItem(Oe,JSON.stringify(s))}catch(t){console.error("Failed to save view mode to localStorage:",t)}},Es=()=>{try{const s=localStorage.getItem(Oe);if(!s)return{type:"list"};const t=JSON.parse(s);return t&&typeof t=="object"&&t.type&&(t.type==="grid"||t.type==="list")?t:{type:"list"}}catch(s){return console.error("Failed to load view mode from localStorage:",s),{type:"list"}}},ie=[{id:"accordion-potatoes-560e01e7",title:"Accordion Potatoes",ingredients:["Small golden potatoes","Olive oil","Seasoning","4ish cloves minced garlic","¾ stick of butter","Lemon pepper","Cheese/Sour cream optional"],instructions:`Preheat oven to 350°F
Wash potatoes and slice them but leave them in tact on the bottom
Lather them in olive oil and season
Place in a cast iron skillet and stick in the oven for a bit
After, melt butter in the same pan and add garlic and lemon pepper
Baste and stick them in the oven to caramelize a bit`,sections:[{label:"Main",ingredients:["Small golden potatoes","Olive oil","Seasoning","4ish cloves minced garlic","¾ stick of butter","Lemon pepper","Cheese/Sour cream optional"],instructions:["Preheat oven to 350°F","Wash potatoes and slice them but leave them in tact on the bottom","Lather them in olive oil and season","Place in a cast iron skillet and stick in the oven for a bit","After, melt butter in the same pan and add garlic and lemon pepper","Baste and stick them in the oven to caramelize a bit"]}],cookTime:"45 min",prepTime:"15 min",category:"Appetizers",tags:["potatoes","oven","easy"],notes:"",rating:4.5,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.326Z",updatedAt:"2025-09-15T01:38:27.326Z"},{id:"bacon-wrapped-pickle-chips-0b43e865",title:"Bacon Wrapped Pickle Chips",ingredients:["Pickles","Bacon","Ranch to dip idk"],instructions:`Wrap the pickle slices in bacon
Air Fryer: 400°F for abt 12 minutes, flip halfway`,sections:[{label:"Main",ingredients:["Pickles","Bacon","Ranch to dip idk"],instructions:["Wrap the pickle slices in bacon","Air Fryer: 400°F for abt 12 minutes, flip halfway"]}],cookTime:"12 min",prepTime:"5 min",category:"Appetizers",tags:["bacon","pickles","air-fryer"],notes:"Bc why not",rating:4,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.327Z",updatedAt:"2025-09-15T01:38:27.327Z"},{id:"bagel-bites-133cd322",title:"Bagel Bites",ingredients:["Brown Sugar Cinnamon","2 sliced bagels","75 g melted butter. ⅓ cup. 5 ⅓ tbsp","Brown sugar and cinnamon mixture","Salt and Garlic","3 bagels","⅓ cup olive oil","2 cloves garlic, minced","1 teaspoon Italian seasoning","¼ cup freshly grated Parmesan cheese","salt and pepper to taste","Everything Bagel","1 bagel","2 tbsp olive oil or melted butter","1/2 tsp salt","3 tsp everything seasoning"],instructions:`Pour butter of bagel slices
Mix in the cinnamon sugar mixture
Air fry @ 350F for 5 minutes
Dip in nutella or cream cheese or whatever ya want`,sections:[{label:"Main",ingredients:["Brown Sugar Cinnamon","2 sliced bagels","75 g melted butter. ⅓ cup. 5 ⅓ tbsp","Brown sugar and cinnamon mixture","Salt and Garlic","3 bagels","⅓ cup olive oil","2 cloves garlic, minced","1 teaspoon Italian seasoning","¼ cup freshly grated Parmesan cheese","salt and pepper to taste","Everything Bagel","1 bagel","2 tbsp olive oil or melted butter","1/2 tsp salt","3 tsp everything seasoning"],instructions:["Pour butter of bagel slices","Mix in the cinnamon sugar mixture","Air fry @ 350F for 5 minutes","Dip in nutella or cream cheese or whatever ya want"]}],cookTime:"5 min",prepTime:"10 min",category:"Appetizers",tags:["bagels","air-fryer","quick"],notes:"",rating:3.5,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"bread-2e4b6c47",title:"Bread",ingredients:["1 1/2 cups warm water (about 100 degrees F) (360mL)","1 packet yeast (active dry, instant, or quick rise- 2.25 teaspoons)","1/2 tablespoon fine grain salt (preferably NOT iodized, see notes)","3 1/4 cups all-purpose flour or bread flour (430g)","1 tsp sugar if using active dry yeast"],instructions:`Instant Yeast: Just mix water, yeast and salt together until fully dissolved
Active Dry Yeast: Proof it by mixing it with ¼ cup water and 1 tsp sugar. Let it sit for 10 min and foam
Add flour to the bowl and stir together until a sticky dough forms. Don't worry about mixing it too much, just make sure everything is uniformly wet. It WILL be messy and sticky. You can scrape what's left on the spoon with a silicone spatula.
Cover the bowl with a kitchen towel and leave it for 2-3 hours to rise in a somewhat warm place.
30 minutes - 1 hr before you are ready to bake, preheat your oven to 450 degrees F and place your Dutch oven in the oven, with the lid ON
Once the oven reaches 450, keep it preheating for another 20 minutes
Scrape the dough into the edge of a piece of parchment paper dusted with flour. Make it into as much of a loaf shape as you can by folding the edges up on top of it (a silicone spatula works well for this).
Then, use the edges of the parchment paper to flip the loaf over so the floured side is on top and the loaf is in the center of the parchment paper. Don't worry about it looking beautiful or smooth on top.
Take out the preheated Dutch oven and take off the lid, carefully! Grab the parchment from the sides and place the loaf in your Dutch oven.
Place the cover back on the Dutch oven and place in the preheated oven on the center rack.
Bake for 35 minutes at 450 degrees F (40 minutes if dough was cold from the fridge).
Remove lid and bake for another 5-10 minutes
Remove the loaf from the dutch oven and let it cool for at least 30 minutes before slicing`,sections:[{label:"Main",ingredients:["1 1/2 cups warm water (about 100 degrees F) (360mL)","1 packet yeast (active dry, instant, or quick rise- 2.25 teaspoons)","1/2 tablespoon fine grain salt (preferably NOT iodized, see notes)","3 1/4 cups all-purpose flour or bread flour (430g)","1 tsp sugar if using active dry yeast"],instructions:["Instant Yeast: Just mix water, yeast and salt together until fully dissolved","Active Dry Yeast: Proof it by mixing it with ¼ cup water and 1 tsp sugar. Let it sit for 10 min and foam","Add flour to the bowl and stir together until a sticky dough forms. Don't worry about mixing it too much, just make sure everything is uniformly wet. It WILL be messy and sticky. You can scrape what's left on the spoon with a silicone spatula.","Cover the bowl with a kitchen towel and leave it for 2-3 hours to rise in a somewhat warm place.","30 minutes - 1 hr before you are ready to bake, preheat your oven to 450 degrees F and place your Dutch oven in the oven, with the lid ON","Once the oven reaches 450, keep it preheating for another 20 minutes","Scrape the dough into the edge of a piece of parchment paper dusted with flour. Make it into as much of a loaf shape as you can by folding the edges up on top of it (a silicone spatula works well for this).","Then, use the edges of the parchment paper to flip the loaf over so the floured side is on top and the loaf is in the center of the parchment paper. Don't worry about it looking beautiful or smooth on top.","Take out the preheated Dutch oven and take off the lid, carefully! Grab the parchment from the sides and place the loaf in your Dutch oven.","Place the cover back on the Dutch oven and place in the preheated oven on the center rack.","Bake for 35 minutes at 450 degrees F (40 minutes if dough was cold from the fridge).","Remove lid and bake for another 5-10 minutes","Remove the loaf from the dutch oven and let it cool for at least 30 minutes before slicing"]}],cookTime:"45 min",prepTime:"3 hours",category:"Appetizers",tags:["bread","yeast","dutch oven"],notes:"",rating:4.8,difficulty:"Medium",source:"",lastCooked:"",isFavorite:!0,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"buffalo-chicken-dip-b566e5a7",title:"Buffalo Chicken Dip",ingredients:["1 cup of shredded cooked chicken","2 (8oz) packages of cream cheese","1 cup of ranch","¾ cup of buffalo sauce","1.5 cups of shredded cheese","Chips to dip or bread to spread"],instructions:`Mix that shiii together and add to a dish
Sprinkle with cheese and cover with foil
Cook at 450°F for 10-15 min`,sections:[{label:"Main",ingredients:["1 cup of shredded cooked chicken","2 (8oz) packages of cream cheese","1 cup of ranch","¾ cup of buffalo sauce","1.5 cups of shredded cheese","Chips to dip or bread to spread"],instructions:["Mix that shiii together and add to a dish","Sprinkle with cheese and cover with foil","Cook at 450°F for 10-15 min"]}],cookTime:"15 min",prepTime:"10 min",category:"Appetizers",tags:["chicken","dip","buffalo"],notes:"",rating:4.2,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"buffalo-chicken-wontons-3eb41622",title:"Buffalo Chicken Wontons",ingredients:[],instructions:"Instructions not provided.",sections:[{label:"Main",ingredients:[],instructions:["Instructions not provided."]}],cookTime:"10 min",prepTime:"15 min",category:"Appetizers",tags:["wontons","chicken","buffalo"],notes:"We talked about doing this for a light dinner one night for when we need to eat something but aren't in the mood for anything heavy. Picture will be added when we make it :)",rating:0,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"chicken-nuggets-4e0f83e8",title:"Chicken Nuggets",ingredients:["1 boneless skinless chicken breast","1/4 teaspoon salt","1/8 teaspoon black pepper","1/2 cup unsalted butter melted","1/2 cup breadcrumbs","2 tablespoons grated Parmesan optional"],instructions:`Preheat air fryer to 390 degrees for 4 minutes.
Trim any fat from chicken breast, Slice into 1/2 inch thick slices, then each slice into 2 to 3 nuggets. Season chicken pieces with salt and pepper.
Place melted butter in a small bowl and breadcrumbs ( with Parmesan, if using ) in another small bowl.
Dip each piece of chicken in butter, then breadcrumbs.
Place in a single layer in the air fryer basket. Depending on the size of your air fryer, you may need to bake in two batches or more.
Set timer to 8 minutes.
When done, check if the internal temperature of chicken nuggets is at least 165 degrees F. Remove nuggets from basket with tongs and set onto a plate to cool.`,sections:[{label:"Main",ingredients:["1 boneless skinless chicken breast","1/4 teaspoon salt","1/8 teaspoon black pepper","1/2 cup unsalted butter melted","1/2 cup breadcrumbs","2 tablespoons grated Parmesan optional"],instructions:["Preheat air fryer to 390 degrees for 4 minutes.","Trim any fat from chicken breast, Slice into 1/2 inch thick slices, then each slice into 2 to 3 nuggets. Season chicken pieces with salt and pepper.","Place melted butter in a small bowl and breadcrumbs ( with Parmesan, if using ) in another small bowl.","Dip each piece of chicken in butter, then breadcrumbs.","Place in a single layer in the air fryer basket. Depending on the size of your air fryer, you may need to bake in two batches or more.","Set timer to 8 minutes.","When done, check if the internal temperature of chicken nuggets is at least 165 degrees F. Remove nuggets from basket with tongs and set onto a plate to cool."]}],cookTime:"8 min",prepTime:"15 min",category:"Appetizers",tags:["chicken","air-fryer","nuggets"],notes:"",rating:4,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"cowboy-caviar-c2448a99",title:"Cowboy Caviar",ingredients:["1 can black beans, drained and rinsed","1 can black eyed peas, drained and rinsed","1 can corn drained","2 bell peppers","1 avocado","2 jalapenos","2 limes","1 red onion","1 tomato","½ cup olive oil","¼ cup apple cider vinegar","Salt, pepper, cumin, aleppo pepper, chili powder, ½ tsp sugar"],instructions:"Chop and mix lol",sections:[{label:"Main",ingredients:["1 can black beans, drained and rinsed","1 can black eyed peas, drained and rinsed","1 can corn drained","2 bell peppers","1 avocado","2 jalapenos","2 limes","1 red onion","1 tomato","½ cup olive oil","¼ cup apple cider vinegar","Salt, pepper, cumin, aleppo pepper, chili powder, ½ tsp sugar"],instructions:["Chop and mix lol"]}],cookTime:"0 min",prepTime:"20 min",category:"Appetizers",tags:["beans","dip","vegetarian"],notes:"I know you don't like beans but i promise this is good",rating:3.8,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"crab-rangoons-33bc8643",title:"Crab Rangoons",ingredients:["Wonton wrappers","8 oz softened cream cheese","8 oz crab meat","1-2 cloves of minced garlic","1 tsp of Worcestershire sauce","Green onions if ya want but who tf uses green onions","Sweet and sour sauce to dip duh"],instructions:`Andddddd mix it mix it mix it mix it mix it
Wet ;) the edges of the wrapper
Stufffff those wontons nice and good
Fry with air at 370°F for ~10 minutes`,sections:[{label:"Main",ingredients:["Wonton wrappers","8 oz softened cream cheese","8 oz crab meat","1-2 cloves of minced garlic","1 tsp of Worcestershire sauce","Green onions if ya want but who tf uses green onions","Sweet and sour sauce to dip duh"],instructions:["Andddddd mix it mix it mix it mix it mix it","Wet ;) the edges of the wrapper","Stufffff those wontons nice and good","Fry with air at 370°F for ~10 minutes"]}],cookTime:"10 min",prepTime:"20 min",category:"Appetizers",tags:["crab","wontons","air-fryer"],notes:"We've talked about making these for soooo long. We haven't yet but we will one day. Then I'll have a picture to add and maybe a funny story to write here lol.",rating:0,difficulty:"Medium",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.328Z",updatedAt:"2025-09-15T01:38:27.328Z"},{id:"crockpot-street-corn-dip-d33d204c",title:"Crockpot Street Corn Dip",ingredients:["2 drained cans of corn","16 oz cream cheese","8 oz pepper jack","Tajin","Diced cilantro","¼ cup sour cream"],instructions:`Throw all of that stuff in the crockpot
Cook on low for 2.5 hours`,sections:[{label:"Main",ingredients:["2 drained cans of corn","16 oz cream cheese","8 oz pepper jack","Tajin","Diced cilantro","¼ cup sour cream"],instructions:["Throw all of that stuff in the crockpot","Cook on low for 2.5 hours"]}],cookTime:"2.5 hours",prepTime:"10 min",category:"Appetizers",tags:["corn","crockpot","dip"],notes:"",rating:4.3,difficulty:"Easy",source:"",lastCooked:"",isFavorite:!1,image:"",createdAt:"2025-09-15T01:38:27.329Z",updatedAt:"2025-09-15T01:38:27.329Z"}],xe="myRecipesData",he="sampleDataLoaded",le="firstVisit";function Is(){return localStorage.getItem(le)?!1:(localStorage.setItem(le,"false"),!0)}function Fs(){return localStorage.getItem(he)==="true"}function Ls(){try{const s=localStorage.getItem(xe);if(!s)return!1;const t=JSON.parse(s);return Array.isArray(t)&&t.length>0}catch(s){return console.error("Error checking existing recipes:",s),!1}}function Ps(s){const t=[],a=[];return(!s.id||typeof s.id!="string")&&t.push("Missing or invalid id"),(!s.title||typeof s.title!="string")&&t.push("Missing or invalid title"),(!s.category||typeof s.category!="string")&&t.push("Missing or invalid category"),Array.isArray(s.ingredients)||a.push("Ingredients should be an array"),typeof s.instructions!="string"&&a.push("Instructions should be a string"),Array.isArray(s.tags)||a.push("Tags should be an array"),Array.isArray(s.sections)||a.push("Sections should be an array"),s.sections&&s.sections.length>0&&s.sections.forEach((n,r)=>{(!n.label||typeof n.label!="string")&&a.push(`Section ${r+1}: Missing or invalid label`),Array.isArray(n.ingredients)||a.push(`Section ${r+1}: Ingredients should be an array`),Array.isArray(n.instructions)||a.push(`Section ${r+1}: Instructions should be an array`)}),{isValid:t.length===0,errors:t,warnings:a}}function ve(){try{const t=ie.map((a,n)=>({index:n+1,title:a.title,validation:Ps(a)})).filter(a=>!a.validation.isValid);if(t.length>0){const a=t.map(n=>`Recipe ${n.index} (${n.title}): ${n.validation.errors.join(", ")}`).join(`
`);return{success:!1,message:`Validation failed for ${t.length} recipes`,errors:[a]}}return localStorage.setItem(xe,JSON.stringify(ie)),localStorage.setItem(he,"true"),{success:!0,message:`Successfully loaded ${ie.length} sample recipes!`}}catch(s){return{success:!1,message:`Error loading sample data: ${s instanceof Error?s.message:"Unknown error"}`}}}function Os(){return Is()&&!Ls()}function Ms(){try{return localStorage.removeItem(xe),localStorage.removeItem(he),localStorage.removeItem(le),{success:!0,message:"All recipe data cleared successfully"}}catch(s){return{success:!1,message:`Error clearing data: ${s instanceof Error?s.message:"Unknown error"}`}}}const q=s=>{if(!s)return 0;const t=s.match(/(\d+)\s*(min|hour|hr|h|m)/i);if(!t)return 0;const a=parseInt(t[1]),n=t[2].toLowerCase();return n.includes("hour")||n.includes("hr")||n.includes("h")?a*60:a},$s={recipes:[],filteredRecipes:[],filters:{search:"",category:"All",tags:[],difficulty:"All",rating:0,hasImage:!1,isFavorite:!1,recentlyAdded:!1,sortBy:"createdAt",sortOrder:"desc"},viewMode:{type:"list"},loading:!1,error:null},_s=(s,t)=>{switch(t.type){case"SET_LOADING":return{...s,loading:t.payload};case"SET_ERROR":return{...s,error:t.payload};case"LOAD_RECIPES":return{...s,recipes:t.payload,filteredRecipes:t.payload};case"ADD_RECIPE":const a=[...s.recipes,t.payload];return B(a),{...s,recipes:a};case"UPDATE_RECIPE":const n=s.recipes.map(l=>l.id===t.payload.id?t.payload:l);B(n);const r=s.filteredRecipes.map(l=>l.id===t.payload.id?t.payload:l);return{...s,recipes:n,filteredRecipes:r};case"DELETE_RECIPE":const c=s.recipes.filter(l=>l.id!==t.payload);return B(c),{...s,recipes:c};case"TOGGLE_FAVORITE":const o=s.recipes.map(l=>l.id===t.payload?{...l,isFavorite:!l.isFavorite}:l);B(o);const x=s.filteredRecipes.map(l=>l.id===t.payload?{...l,isFavorite:!l.isFavorite}:l);return{...s,recipes:o,filteredRecipes:x};case"BULK_ADD_RECIPES":const p=[...s.recipes,...t.payload];return B(p),{...s,recipes:p};case"SET_FILTERS":return{...s,filters:{...s.filters,...t.payload}};case"SET_VIEW_MODE":return Ds(t.payload),{...s,viewMode:t.payload};case"LOAD_VIEW_MODE":return{...s,viewMode:Es()};case"APPLY_FILTERS":let d=[...s.recipes];if(s.filters.search&&(d=d.filter(l=>Cs(l,s.filters.search))),s.filters.category!=="All"&&(d=d.filter(l=>l.category===s.filters.category)),s.filters.difficulty!=="All"&&(d=d.filter(l=>l.difficulty===s.filters.difficulty)),s.filters.rating>0&&(d=d.filter(l=>l.rating>=s.filters.rating)),s.filters.hasImage&&(d=d.filter(l=>!!l.image)),s.filters.isFavorite&&(d=d.filter(l=>l.isFavorite===!0)),s.filters.recentlyAdded){const l=new Date;l.setDate(l.getDate()-7),d=d.filter(u=>new Date(u.createdAt)>l)}return s.filters.tags.length>0&&(d=d.filter(l=>s.filters.tags.every(u=>l.tags.includes(u)))),d.sort((l,u)=>{let j=0;switch(s.filters.sortBy){case"title":j=l.title.localeCompare(u.title);break;case"rating":j=l.rating-u.rating;break;case"createdAt":j=new Date(l.createdAt).getTime()-new Date(u.createdAt).getTime();break;case"cookTime":j=q(l.cookTime)-q(u.cookTime);break;case"prepTime":j=q(l.prepTime||"0")-q(u.prepTime||"0");break}return s.filters.sortOrder==="asc"?j:-j}),{...s,filteredRecipes:d};default:return s}},$e=g.createContext(void 0),zs=({children:s})=>{const[t,a]=g.useReducer(_s,$s);g.useEffect(()=>{(async()=>{a({type:"SET_LOADING",payload:!0});try{if(Os()){console.log("First visit detected - loading sample data...");const A=ve();A.success?console.log("✅ Sample data loaded successfully"):console.error("❌ Failed to load sample data:",A.message)}const S=je();a({type:"LOAD_RECIPES",payload:S}),a({type:"LOAD_VIEW_MODE"})}catch(S){console.error("Failed to load recipes:",S),a({type:"SET_ERROR",payload:"Failed to load recipes"}),a({type:"LOAD_RECIPES",payload:[]})}finally{a({type:"SET_LOADING",payload:!1})}})()},[]),g.useEffect(()=>{a({type:"APPLY_FILTERS"})},[t.filters,t.recipes]);const C={state:t,addRecipe:v=>{const S=ye(v);a({type:"ADD_RECIPE",payload:S})},updateRecipe:v=>{const S=Ns(v);a({type:"UPDATE_RECIPE",payload:S})},deleteRecipe:v=>{a({type:"DELETE_RECIPE",payload:v})},toggleFavorite:v=>{a({type:"TOGGLE_FAVORITE",payload:v})},bulkAddRecipes:v=>{const S=v.map(A=>ye(A));a({type:"BULK_ADD_RECIPES",payload:S})},setFilters:v=>{a({type:"SET_FILTERS",payload:v})},setViewMode:v=>{a({type:"SET_VIEW_MODE",payload:v})},applyFilters:()=>{a({type:"APPLY_FILTERS"})},clearFilters:()=>{a({type:"SET_FILTERS",payload:{search:"",category:"All",tags:[],difficulty:"All",rating:0,hasImage:!1,isFavorite:!1,recentlyAdded:!1,sortBy:"createdAt",sortOrder:"desc"}})},getRecipeById:v=>t.recipes.find(S=>S.id===v),loadSampleData:()=>{const v=ve();if(v.success){const S=je();a({type:"LOAD_RECIPES",payload:S})}return v},clearAllData:()=>{const v=Ms();return v.success&&a({type:"LOAD_RECIPES",payload:[]}),v},hasSampleDataLoaded:Fs};return e.jsx($e.Provider,{value:C,children:s})},$=()=>{const s=g.useContext($e);if(s===void 0)throw new Error("useRecipes must be used within a RecipesProvider");return s};class Us extends g.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("ErrorBoundary caught an error:",t,a),this.setState({error:t,errorInfo:a})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),e.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"The app encountered an error while loading recipes. This might be due to corrupted data in your browser's storage."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{localStorage.removeItem("myRecipesData"),window.location.reload()},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Clear Data & Reload"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Reload Page"})]}),this.state.error&&e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-800",children:"Error Details (Development)"}),e.jsxs("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}}const Bs=({isOpen:s,onClose:t})=>{const a=ke(),n=r=>a.pathname===r;return s?e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t,"aria-hidden":"true"}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-sm bg-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-6 w-6 text-sage-600"}),e.jsx("span",{className:"text-lg font-display font-bold text-gray-900",children:"Recipe App"})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 -m-1","aria-label":"Close navigation",children:e.jsx(U,{className:"h-6 w-6"})})]}),e.jsxs("nav",{className:"p-4 space-y-2",children:[e.jsxs(D,{to:"/",onClick:t,className:`flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors ${n("/")?"bg-sage-100 text-sage-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{children:"Home"})]}),e.jsxs(D,{to:"/recipes",onClick:t,className:`flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors ${n("/recipes")?"bg-sage-100 text-sage-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(de,{className:"h-5 w-5"}),e.jsx("span",{children:"Recipes"})]}),e.jsxs(D,{to:"/newrecipe",onClick:t,className:`flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors ${n("/newrecipe")?"bg-sage-100 text-sage-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:"New Recipe"})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Import Options"}),e.jsxs(D,{to:"/import",onClick:t,className:`flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors ${n("/import")?"bg-sage-100 text-sage-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{children:"Import from URL"})]}),e.jsxs(D,{to:"/import/bulk",onClick:t,className:`flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors ${n("/import/bulk")?"bg-sage-100 text-sage-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Y,{className:"h-5 w-5"}),e.jsx("span",{children:"Bulk Import"})]})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsxs(D,{to:"/manage",onClick:t,className:`flex items-center space-x-3 px-3 py-3 rounded-lg text-base font-medium transition-colors ${n("/manage")?"bg-sage-100 text-sage-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Re,{className:"h-5 w-5"}),e.jsx("span",{children:"Manage"})]})]})]})]}):null},F=()=>{const s=ke(),[t,a]=g.useState(!1),n=r=>s.pathname===r;return e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(D,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-8 w-8 text-sage-600"}),e.jsx("span",{className:"text-xl font-display font-bold text-gray-900",children:"Recipe App"})]}),e.jsxs("nav",{className:"hidden md:flex space-x-6",children:[e.jsxs(D,{to:"/recipes",className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${n("/recipes")?"bg-sage-100 text-sage-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Recipes"})]}),e.jsxs(D,{to:"/newrecipe",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n("/newrecipe")?"bg-sage-600 text-white shadow-md":"bg-sage-100 text-sage-700 hover:bg-sage-200 hover:shadow-sm"}`,children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"+ New Recipe"})]}),e.jsxs(D,{to:"/manage",className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${n("/manage")?"bg-sage-100 text-sage-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{children:"Manage"})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsxs("button",{type:"button",onClick:()=>a(!0),className:"text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-sage-500 p-2 -m-2",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx(ss,{className:"h-6 w-6"})]})})]})}),e.jsx(Bs,{isOpen:t,onClose:()=>a(!1)})]})},Vs=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 to-sage-50",children:[e.jsx(F,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white rounded-full shadow-lg",children:e.jsx(Q,{className:"h-16 w-16 text-sage-600"})})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-display font-bold text-gray-900 mb-6",children:["Your Personal",e.jsx("span",{className:"text-sage-600",children:" Recipe Collection"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Organize, discover, and enjoy your favorite recipes in one beautiful place. Create, import, and manage your culinary creations with ease."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(D,{to:"/recipes",className:"btn-primary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5"}),e.jsx("span",{children:"Browse Recipes"})]}),e.jsxs(D,{to:"/newrecipe",className:"btn-secondary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Recipe"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-sage-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(z,{className:"h-8 w-8 text-sage-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Create Recipes"}),e.jsx("p",{className:"text-gray-600",children:"Manually add your favorite recipes with detailed ingredients, instructions, and personal notes."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-wood-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(M,{className:"h-8 w-8 text-wood-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import from Web"}),e.jsx("p",{className:"text-gray-600",children:"Import recipes from any website with our smart scraper. Edit and customize before saving."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-yellow-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(Ce,{className:"h-8 w-8 text-yellow-600"})}),e.jsx("h3",{className:"text-xl font-semibent text-gray-900 mb-2",children:"Smart Search"}),e.jsx("p",{className:"text-gray-600",children:"Find recipes quickly with powerful search, filters, and tags. Rate and organize your collection."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-8",children:"Get Started"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(D,{to:"/newrecipe",className:"group p-6 border border-gray-200 rounded-lg hover:border-sage-300 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-sage-100 group-hover:bg-sage-200 rounded-lg p-3 transition-colors",children:e.jsx(z,{className:"h-6 w-6 text-sage-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-sage-700",children:"Add Your First Recipe"}),e.jsx("p",{className:"text-gray-600",children:"Start building your collection with a new recipe"})]})]})}),e.jsx(D,{to:"/import",className:"group p-6 border border-gray-200 rounded-lg hover:border-sage-300 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-wood-100 group-hover:bg-wood-200 rounded-lg p-3 transition-colors",children:e.jsx(M,{className:"h-6 w-6 text-wood-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-sage-700",children:"Import from Web"}),e.jsx("p",{className:"text-gray-600",children:"Bring in recipes from your favorite websites"})]})]})})]})]})]})]}),_e=["Breakfast","Lunch/Dinner","Desserts","Appetizers","Drinks","Other"],ze=["Easy","Medium","Hard"],H={Breakfast:"🥞","Lunch/Dinner":"🍽️",Desserts:"🍰",Appetizers:"🥗",Drinks:"🥤",Other:"📝"},ce={Breakfast:"bg-yellow-100 text-yellow-800","Lunch/Dinner":"bg-green-100 text-green-800",Desserts:"bg-pink-100 text-pink-800",Appetizers:"bg-blue-100 text-blue-800",Drinks:"bg-purple-100 text-purple-800",Other:"bg-gray-100 text-gray-800"},Ue={Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"},Be={Easy:"⭐",Medium:"⭐⭐",Hard:"⭐⭐⭐"},Ve=["easy","quick","healthy","vegetarian","vegan","gluten-free","dairy-free","low-carb","high-protein","one-pot","meal-prep","comfort-food","spicy","sweet","savory","chicken","beef","fish","pasta","salad","soup","baked","grilled","fried","raw"],Ne=["bg-gray-100 text-gray-800","bg-red-100 text-red-800","bg-orange-100 text-orange-800","bg-yellow-100 text-yellow-800","bg-green-100 text-green-800","bg-teal-100 text-teal-800","bg-blue-100 text-blue-800","bg-indigo-100 text-indigo-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800"],pe=(s,t=0)=>Ne[t%Ne.length],Ws=({filters:s,onFiltersChange:t,onClearFilters:a})=>{const[n,r]=g.useState(!1),c=l=>{t({category:l})},o=l=>{const u=s.tags.includes(l)?s.tags.filter(j=>j!==l):[...s.tags,l];t({tags:u})},x=l=>{t({sortBy:l})},p=()=>{t({sortOrder:s.sortOrder==="asc"?"desc":"asc"})},d=s.category!=="All"||s.tags.length>0||s.difficulty!=="All"||s.rating>0||s.hasImage||s.isFavorite||s.recentlyAdded;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("div",{className:"md:hidden mb-4",children:e.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})}),e.jsxs("div",{className:`space-y-4 ${n?"block":"hidden md:block"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:s.category,onChange:l=>c(l.target.value),className:"input-field",children:[e.jsx("option",{value:"All",children:"All Categories"}),_e.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),e.jsxs("select",{value:s.difficulty,onChange:l=>t({difficulty:l.target.value}),className:"input-field",children:[e.jsx("option",{value:"All",children:"All Difficulties"}),ze.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"h-4 w-4 text-yellow-400"}),e.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:s.rating,onChange:l=>t({rating:parseFloat(l.target.value)}),className:"flex-1"}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:s.rating>0?s.rating:"Any"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.hasImage,onChange:l=>t({hasImage:l.target.checked}),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx(as,{className:"h-4 w-4 ml-2 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Has Image"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.isFavorite,onChange:l=>t({isFavorite:l.target.checked}),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx(J,{className:"h-4 w-4 ml-2 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Favorites Only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.recentlyAdded,onChange:l=>t({recentlyAdded:l.target.checked}),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx(Z,{className:"h-4 w-4 ml-2 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Recently Added (7 days)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ve.map((l,u)=>e.jsx("button",{onClick:()=>o(l),className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-colors ${s.tags.includes(l)?pe(l,u):"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:s.sortBy,onChange:l=>x(l.target.value),className:"input-field flex-1",children:[e.jsx("option",{value:"title",children:"Title"}),e.jsx("option",{value:"rating",children:"Rating"}),e.jsx("option",{value:"createdAt",children:"Date Added"}),e.jsx("option",{value:"cookTime",children:"Cook Time"}),e.jsx("option",{value:"prepTime",children:"Prep Time"})]}),e.jsx("button",{onClick:p,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:`Sort ${s.sortOrder==="asc"?"Descending":"Ascending"}`,children:s.sortOrder==="asc"?"↑":"↓"})]})]}),d&&e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:"Clear all filters"})]})]})]})},Gs=({viewMode:s,onViewModeChange:t})=>e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>t({type:"grid"}),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.type==="grid"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:"Grid"})]}),e.jsxs("button",{onClick:()=>t({type:"list"}),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.type==="list"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"List"})]})]}),se=({rating:s,onRatingChange:t,interactive:a=!1,size:n="md",mobileInteractive:r=!1})=>{const c={sm:"w-3 h-3 md:w-4 md:h-4",md:"w-4 h-4 md:w-5 md:h-5",lg:"w-5 h-5 md:w-6 md:h-6"},o=a,x=d=>{o&&t&&t(d)},p=d=>{};return e.jsx("div",{className:"flex items-center -space-x-0.5",children:[1,2,3,4,5].map(d=>{const l=s>=d-.5&&s<d,u=s>=d;return e.jsx("button",{type:"button",onClick:()=>x(d),onMouseEnter:()=>p(),disabled:!o,className:`p-0.5 -m-0.5 ${o?"cursor-pointer":"cursor-default"} transition-colors duration-150`,children:e.jsx(Ae,{className:`${c[n]} ${u||l?"text-yellow-400":"text-gray-300"} ${l||u?"fill-yellow-400":"fill-none"}`})},d)})})},oe=({onEdit:s,onDelete:t,className:a=""})=>{const[n,r]=g.useState(!1),c=g.useRef(null);g.useEffect(()=>{const p=d=>{c.current&&!c.current.contains(d.target)&&r(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const o=()=>{s(),r(!1)},x=()=>{t&&(t(),r(!1))};return e.jsxs("div",{className:`relative ${a}`,ref:c,children:[e.jsx("button",{onClick:p=>{p.preventDefault(),p.stopPropagation(),r(!n)},className:"text-gray-400 hover:text-gray-600 transition-colors p-1 -m-1 rounded-full hover:bg-gray-100","aria-label":"More options",children:e.jsx(ns,{className:"h-4 w-4"})}),n&&e.jsx("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[120px]",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:o,className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[e.jsx(ls,{className:"h-3 w-3"}),e.jsx("span",{children:"Edit"})]}),t&&e.jsxs("button",{onClick:x,className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2",children:[e.jsx(Te,{className:"h-3 w-3"}),e.jsx("span",{children:"Delete"})]})]})})]})},We=({title:s,rating:t,isFavorite:a,onToggleFavorite:n,onEdit:r,onDelete:c,className:o=""})=>e.jsxs("div",{className:`md:hidden ${o}`,children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2 truncate",children:s}),e.jsxs("div",{className:"flex items-center justify-between min-w-0",children:[e.jsx("div",{className:"flex items-center min-w-0 flex-1",children:e.jsx(se,{rating:t,size:"md",interactive:!1})}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-2",children:[n&&e.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),n()},className:"text-gray-400 hover:text-red-500 transition-colors p-0.5 -m-0.5","aria-label":a?"Remove from favorites":"Add to favorites",children:e.jsx(J,{className:`h-4 w-4 ${a?"text-red-500 fill-current":""}`})}),(r||c)&&e.jsx(oe,{onEdit:r,onDelete:c})]})]})]}),we=({category:s,difficulty:t,cookTime:a,tags:n,className:r=""})=>e.jsxs("div",{className:`space-y-2 ${r}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ce[s]} flex-shrink-0`,children:[H[s]," ",s]}),t&&e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ue[t]} flex-shrink-0`,children:[Be[t]," ",t]})]}),a&&e.jsxs("div",{className:"md:hidden flex items-center text-sm text-gray-500",children:[e.jsx(Z,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"whitespace-nowrap",children:a})]}),n.length>0&&e.jsxs("div",{className:"hidden md:flex flex-wrap gap-1",children:[n.slice(0,3).map((c,o)=>e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${pe(c,o)}`,children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),c]},c)),n.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",n.length-3," more"]})]})]}),Ys=({recipe:s,viewMode:t,onToggleFavorite:a})=>t==="list"?e.jsx("div",{className:"card hover:shadow-md transition-shadow duration-200",children:e.jsxs(D,{to:`/recipes/${s.id}`,className:"flex space-x-4 block",children:[e.jsx("div",{className:"flex-shrink-0",children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"w-20 h-20 object-cover rounded-lg"}):e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:H[s.category]})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(We,{title:s.title,rating:s.rating,isFavorite:s.isFavorite,onToggleFavorite:a?()=>a(s.id):void 0,className:"mb-2"}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-sage-600 transition-colors truncate flex-1 min-w-0",children:s.title}),e.jsx("div",{className:"flex items-center flex-shrink-0",children:a&&e.jsx("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),a(s.id)},className:"text-gray-400 hover:text-red-500 transition-colors p-0.5 -m-0.5",children:e.jsx(J,{className:`h-4 w-4 ${s.isFavorite?"text-red-500 fill-current":""}`})})})]}),e.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-2 md:gap-4 flex-wrap mt-1",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(se,{rating:s.rating,size:"sm"})}),s.cookTime&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500 flex-shrink-0",children:[e.jsx(Z,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"whitespace-nowrap",children:s.cookTime})]})]})]}),e.jsx(we,{category:s.category,difficulty:s.difficulty,cookTime:s.cookTime,tags:s.tags,className:"mt-1"})]})]})}):e.jsxs("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D,{to:`/recipes/${s.id}`,className:"block",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-48 object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-4xl",children:H[s.category]})})})}),a&&e.jsx("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),a(s.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors bg-white rounded-full p-2 shadow-sm md:p-1",children:e.jsx(J,{className:`h-3 w-3 md:h-4 md:w-4 ${s.isFavorite?"text-red-500 fill-current":""}`})})]}),e.jsxs("div",{children:[e.jsx(D,{to:`/recipes/${s.id}`,children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-sage-600 transition-colors truncate",children:s.title})}),e.jsx(we,{category:s.category,difficulty:s.difficulty,cookTime:s.cookTime,tags:s.tags,className:"mb-2"})]})]}),Js=()=>{const{state:s,setFilters:t,setViewMode:a,clearFilters:n,toggleFavorite:r}=$();return s.loading?e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sage-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading recipes..."})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Recipes"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[s.filteredRecipes.length," recipe",s.filteredRecipes.length!==1?"s":"",s.recipes.length!==s.filteredRecipes.length&&` of ${s.recipes.length} total`]})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(Gs,{viewMode:s.viewMode,onViewModeChange:a})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:s.filters.search,onChange:c=>t({search:c.target.value}),placeholder:"Search by title, ingredients, or tags...",className:"input-field pl-10 w-full"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Ws,{filters:s.filters,onFiltersChange:t,onClearFilters:n})}),e.jsxs("div",{className:"lg:col-span-3",children:[s.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-800",children:s.error})}),s.filteredRecipes.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"🍽️"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.recipes.length===0?"No recipes yet":"No recipes match your filters"}),e.jsx("p",{className:"text-gray-600 mb-6",children:s.recipes.length===0?"Start building your recipe collection by adding your first recipe.":"Try adjusting your search or filter criteria."}),s.recipes.length===0&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"/newrecipe",className:"btn-primary",children:"Add Your First Recipe"}),e.jsx("a",{href:"/import",className:"btn-outline",children:"Import from Web"})]})]}):e.jsx("div",{className:s.viewMode.type==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:s.filteredRecipes.map(c=>e.jsx(Ys,{recipe:c,viewMode:s.viewMode.type,onToggleFavorite:r},c.id))})]})]})]})]})},ue=({children:s,className:t=""})=>e.jsxs("div",{className:`responsive-page ${t}`,children:[s,e.jsx("style",{jsx:!0,children:`
        .responsive-page {
          /* Mobile type scale and spacing */
          @media (max-width: 768px) {
            /* Ensure 48px tap targets */
            button, 
            [role="button"], 
            input[type="button"], 
            input[type="submit"] {
              min-height: 48px;
              min-width: 48px;
            }
            
            /* Mobile-optimized spacing */
            .responsive-page h1 {
              font-size: 1.5rem;
              line-height: 1.25;
              margin-bottom: 0.75rem;
            }
            
            .responsive-page h2 {
              font-size: 1.25rem;
              line-height: 1.3;
              margin-bottom: 0.5rem;
            }
            
            .responsive-page h3 {
              font-size: 1.125rem;
              line-height: 1.35;
              margin-bottom: 0.5rem;
            }
            
            /* Compact spacing for mobile */
            .responsive-page .space-y-4 > * + * {
              margin-top: 0.75rem;
            }
            
            .responsive-page .space-y-6 > * + * {
              margin-top: 1rem;
            }
            
            .responsive-page .space-y-8 > * + * {
              margin-top: 1.25rem;
            }
            
            /* Mobile padding adjustments */
            .responsive-page .px-4 {
              padding-left: 1rem;
              padding-right: 1rem;
            }
            
            .responsive-page .py-8 {
              padding-top: 1.5rem;
              padding-bottom: 1.5rem;
            }
          }
        }
      `})]}),K=({isOpen:s,onClose:t,title:a,children:n,className:r="",size:c="md"})=>{if(g.useEffect(()=>{const x=p=>{p.key==="Escape"&&t()};return s&&(document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[s,t]),!s)return null;const o=()=>{switch(c){case"sm":return"max-w-md";case"md":return"max-w-2xl";case"lg":return"max-w-4xl";case"xl":return"max-w-6xl";case"full":return"max-w-full h-full";default:return"max-w-2xl"}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t,"aria-hidden":"true"}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${o()} ${r}`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900",children:a}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 -m-1","aria-label":"Close modal",children:e.jsx(U,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-6",children:n})]})})]})},Zs=({title:s,description:t,icon:a,onClick:n,className:r=""})=>e.jsx("button",{onClick:n,className:`
        group relative bg-white rounded-lg border border-gray-200 p-6 text-left
        hover:border-sage-300 hover:shadow-md transition-all duration-200
        focus:outline-none focus:ring-2 focus:ring-sage-500 focus:ring-offset-2
        min-h-[120px] w-full
        ${r}
      `,"aria-label":`${s} - ${t}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex-shrink-0 mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-sage-100 rounded-lg flex items-center justify-center group-hover:bg-sage-200 transition-colors",children:e.jsx(a,{className:"h-6 w-6 text-sage-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-sage-700 transition-colors",children:s}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t})]}),e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"w-2 h-2 bg-sage-500 rounded-full"})})]})}),te=({initialData:s={},onSubmit:t,onCancel:a,submitText:n="Save Recipe"})=>{const[r,c]=g.useState({title:"",ingredients:[""],instructions:"",sections:[{label:"Main",ingredients:[""],instructions:[""]}],cookTime:"",prepTime:"",category:"Lunch/Dinner",tags:[],notes:"",rating:0,difficulty:void 0,source:"",lastCooked:"",isFavorite:!1,image:void 0,...s}),[o,x]=g.useState(""),[p,d]=g.useState(r.image),[l,u]=g.useState({});g.useEffect(()=>{r.image&&d(r.image)},[r.image]);const j=(i,m)=>{c(b=>({...b,[i]:m}))},k=()=>{const i={label:"",ingredients:[""],instructions:[""]};c(m=>({...m,sections:[...m.sections||[],i]}))},w=i=>{if(r.sections&&r.sections.length>1){const m=r.sections.filter((b,f)=>f!==i);c(b=>({...b,sections:m}))}},C=(i,m,b)=>{const f=[...r.sections||[]];f[i]={...f[i],[m]:b},c(T=>({...T,sections:f}));{const T=Ts(f,i,b);u(re=>({...re,[i]:T||""}))}},v=(i,m,b)=>{const f=[...r.sections||[]];f[i].ingredients[m]=b,c(T=>({...T,sections:f}))},S=i=>{const m=[...r.sections||[]];m[i].ingredients.push(""),c(b=>({...b,sections:m}))},A=(i,m)=>{const b=[...r.sections||[]];b[i].ingredients.length>1&&(b[i].ingredients.splice(m,1),c(f=>({...f,sections:b})))},E=(i,m,b)=>{const f=[...r.sections||[]];f[i].instructions[m]=b,c(T=>({...T,sections:f}))},N=i=>{const m=[...r.sections||[]];m[i].instructions.push(""),c(b=>({...b,sections:m}))},h=(i,m)=>{const b=[...r.sections||[]];b[i].instructions.length>1&&(b[i].instructions.splice(m,1),c(f=>({...f,sections:b})))},y=i=>{const m=i.target.files?.[0];if(m){const b=new FileReader;b.onload=f=>{const T=f.target?.result;c(re=>({...re,image:T})),d(T)},b.readAsDataURL(m)}},R=i=>{i&&!r.tags.includes(i)&&c(m=>({...m,tags:[...m.tags,i]}))},I=i=>{c(m=>({...m,tags:m.tags.filter(b=>b!==i)}))},L=i=>{i.preventDefault();const m=(r.sections||[]).map(f=>({...f,ingredients:f.ingredients.filter(T=>T.trim()!==""),instructions:f.instructions.filter(T=>T.trim()!=="")})),b=r.ingredients.filter(f=>f.trim()!=="");t({...r,ingredients:b,sections:m})},P=Object.values(l).some(i=>i),_=As(r.sections||[]),ae=r.title.trim()!==""&&!P&&_.isValid;return e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe Title *"}),e.jsx("input",{type:"text",id:"title",value:r.title,onChange:i=>j("title",i.target.value),className:"input-field",placeholder:"Enter recipe title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"input-field"}),p&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:p,alt:"Recipe preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{id:"category",value:r.category,onChange:i=>j("category",i.target.value),className:"input-field",children:_e.map(i=>e.jsx("option",{value:i,children:i},i))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cookTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cook Time"}),e.jsx("input",{type:"text",id:"cookTime",value:r.cookTime,onChange:i=>j("cookTime",i.target.value),className:"input-field",placeholder:"e.g., 30 min, 1 hour"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"prepTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prep Time"}),e.jsx("input",{type:"text",id:"prepTime",value:r.prepTime||"",onChange:i=>j("prepTime",i.target.value),className:"input-field",placeholder:"e.g., 15 min, 30 min"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),e.jsxs("select",{id:"difficulty",value:r.difficulty||"",onChange:i=>j("difficulty",i.target.value||void 0),className:"input-field",children:[e.jsx("option",{value:"",children:"Select difficulty"}),ze.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),e.jsx("input",{type:"url",id:"source",value:r.source||"",onChange:i=>j("source",i.target.value),className:"input-field",placeholder:"https://example.com/recipe"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastCooked",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Cooked"}),e.jsx("input",{type:"date",id:"lastCooked",value:r.lastCooked||"",onChange:i=>j("lastCooked",i.target.value),className:"input-field"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isFavorite||!1,onChange:i=>j("isFavorite",i.target.checked),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Mark as Favorite"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipe Sections"}),e.jsx("button",{type:"button",onClick:k,className:"btn-outline text-sm",children:"+ Add Section"})]}),e.jsx("div",{className:"space-y-6",children:(r.sections||[]).map((i,m)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsx("input",{type:"text",value:i.label,onChange:b=>C(m,"label",b.target.value),className:`input-field ${l[m]?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Section name (e.g., Crust, Filling, Topping)"}),l[m]&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l[m]})]}),(r.sections||[]).length>1&&e.jsx("button",{type:"button",onClick:()=>w(m),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove Section"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Ingredients"}),e.jsxs("div",{className:"space-y-2",children:[i.ingredients.map((b,f)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:b,onChange:T=>v(m,f,T.target.value),className:"input-field flex-1",placeholder:"Enter ingredient"}),i.ingredients.length>1&&e.jsx("button",{type:"button",onClick:()=>A(m,f),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove"})]},f)),e.jsx("button",{type:"button",onClick:()=>S(m),className:"btn-outline text-sm",children:"+ Add Ingredient"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Instructions"}),e.jsxs("div",{className:"space-y-2",children:[i.instructions.map((b,f)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("span",{className:"flex-shrink-0 w-6 h-8 flex items-center justify-center text-sm font-medium text-gray-500",children:[f+1,"."]}),e.jsx("input",{type:"text",value:b,onChange:T=>E(m,f,T.target.value),className:"input-field flex-1",placeholder:"Enter instruction step"}),i.instructions.length>1&&e.jsx("button",{type:"button",onClick:()=>h(m,f),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove"})]},f)),e.jsx("button",{type:"button",onClick:()=>N(m),className:"btn-outline text-sm",children:"+ Add Step"})]})]})]},m))}),!_.isValid&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"Section Label Issues:"}),e.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:_.errors.map((i,m)=>e.jsxs("li",{children:["• ",i]},m))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Ve.map(i=>e.jsx("button",{type:"button",onClick:()=>R(i),disabled:r.tags.includes(i),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${r.tags.includes(i)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:i},i))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:o,onChange:i=>x(i.target.value),onKeyPress:i=>{i.key==="Enter"&&(i.preventDefault(),R(o),x(""))},className:"input-field flex-1",placeholder:"Add custom tag"}),e.jsx("button",{type:"button",onClick:()=>{R(o),x("")},className:"btn-outline",children:"Add"})]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:r.tags.map(i=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-sage-100 text-sage-800",children:[i,e.jsx("button",{type:"button",onClick:()=>I(i),className:"ml-2 text-sage-600 hover:text-sage-800",children:"×"})]},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx(se,{rating:r.rating,onRatingChange:i=>j("rating",i),interactive:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{id:"notes",value:r.notes,onChange:i=>j("notes",i.target.value),rows:3,className:"input-field",placeholder:"Any additional notes or tips"})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx("button",{type:"submit",disabled:!ae,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n}),a&&e.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancel"})]})]})},Ge=async s=>{try{const t={title:"Scraped Recipe",ingredients:["2 cups all-purpose flour","1 cup sugar","1/2 cup butter","2 eggs","1 tsp vanilla extract"],instructions:"Mix all ingredients together. Bake at 350°F for 25-30 minutes until golden brown.",cookTime:"30 min",image:void 0};return await new Promise(a=>setTimeout(a,1e3)),t}catch(t){throw console.error("Failed to scrape recipe:",t),new Error("Failed to scrape recipe from URL")}},Ye=s=>({title:s.title,ingredients:s.ingredients,instructions:s.instructions,cookTime:s.cookTime||"",image:s.image,category:"Lunch/Dinner",tags:[],notes:"",rating:0}),Hs=({onSubmit:s,onCancel:t,submitText:a="Save Imported Recipe"})=>{const[n,r]=g.useState(""),[c,o]=g.useState(!1),[x,p]=g.useState(null),[d,l]=g.useState(null),u=async()=>{if(!n.trim()){l("Please enter a recipe URL");return}o(!0),l(null),p(null);try{const k=await Ge(n),w=Ye(k);p(w)}catch{l("Failed to scrape recipe. Please try a different URL or add the recipe manually.")}finally{o(!1)}},j=()=>{r(""),p(null),l(null)};return x?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(X,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Recipe Imported Successfully!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Review and edit the details below, then save to your collection."})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Recipe Details"}),e.jsx("button",{onClick:j,className:"btn-outline text-sm",children:"Start Over"})]}),e.jsx(RecipeForm,{initialData:x,onSubmit:s,onCancel:t,submitText:a})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe URL"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"url",id:"url",value:n,onChange:k=>r(k.target.value),placeholder:"https://example.com/recipe",className:"input-field flex-1"}),e.jsx("button",{onClick:u,disabled:c||!n.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Scraping..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:"Import"})]})})]})]}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(V,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Import Failed"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"How it works"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Paste any recipe URL from popular cooking websites"}),e.jsx("li",{children:"• We'll extract the title, ingredients, and instructions"}),e.jsx("li",{children:"• Review and edit the details before saving"}),e.jsx("li",{children:"• Add your own tags, notes, and rating"})]})]})]})},Je=s=>{const t=s.split(`
`).filter(r=>r.trim());if(t.length<2)return[];const a=t[0].split(",").map(r=>r.trim().toLowerCase()),n=[];for(let r=1;r<t.length;r++){const c=t[r].split(",").map(x=>x.trim());if(c.length!==a.length)continue;const o={title:"",ingredients:[],instructions:"",cookTime:"",category:"Lunch/Dinner",tags:[],notes:"",rating:0};a.forEach((x,p)=>{const d=c[p];switch(x){case"title":case"name":o.title=d;break;case"ingredients":o.ingredients=d.split(";").map(l=>l.trim()).filter(l=>l);break;case"instructions":case"steps":o.instructions=d;break;case"cooktime":case"cook_time":o.cookTime=d;break;case"preptime":case"prep_time":o.prepTime=d;break;case"category":o.category=d||"Lunch/Dinner";break;case"tags":o.tags=d.split(";").map(l=>l.trim()).filter(l=>l);break;case"notes":o.notes=d;break;case"rating":o.rating=parseInt(d)||0;break;case"difficulty":o.difficulty=d||void 0;break;case"source":o.source=d;break;case"favorite":case"isfavorite":o.isFavorite=d.toLowerCase()==="true"||d==="1";break}}),o.title&&n.push(o)}return n},Ze=s=>{try{const t=JSON.parse(s);return Array.isArray(t)?t.map(a=>({title:a.title||"",ingredients:Array.isArray(a.ingredients)?a.ingredients:[],instructions:a.instructions||"",cookTime:a.cookTime||"",prepTime:a.prepTime||void 0,category:a.category||"Lunch/Dinner",tags:Array.isArray(a.tags)?a.tags:[],notes:a.notes||"",rating:a.rating||0,difficulty:a.difficulty||void 0,source:a.source||void 0,isFavorite:a.isFavorite||!1})):[]}catch(t){return console.error("Error parsing JSON:",t),[]}},qs=(s,t)=>{const a=[],n=t.map(r=>r.title.toLowerCase());return s.forEach(r=>{n.includes(r.title.toLowerCase())&&a.push(r.title)}),a},Ks=s=>{const t=[];return s.forEach((a,n)=>{a.title.trim()||t.push(`Recipe ${n+1}: Missing title`),a.ingredients.length||t.push(`Recipe ${n+1}: Missing ingredients`),a.instructions.trim()||t.push(`Recipe ${n+1}: Missing instructions`),(a.rating<0||a.rating>5)&&t.push(`Recipe ${n+1}: Invalid rating (must be 0-5)`)}),t},He=(s,t)=>{const a=qs(s,t),n=Ks(s);return{recipes:s,duplicates:a,errors:n}},qe=s=>s.map(t=>({...t,isFavorite:t.isFavorite||!1})),Qs=({onSubmit:s,onCancel:t,submitText:a="Import Selected Recipes"})=>{const[n,r]=g.useState(null),[c,o]=g.useState("csv"),[x,p]=g.useState(null),[d,l]=g.useState(new Set),[u,j]=g.useState(!1),[k,w]=g.useState(null),C=h=>{const y=h.target.files?.[0];y&&(r(y),p(null),w(null),l(new Set))},v=async()=>{if(n){j(!0),w(null);try{const h=await n.text();let y=[];if(c==="csv"?y=Je(h):y=Ze(h),y.length===0){w("No valid recipes found in the file");return}const R=JSON.parse(localStorage.getItem("myRecipesData")||"[]"),I=He(y,R);p(I);const L=y.map((P,_)=>_).filter(P=>!I.duplicates.includes(y[P].title));l(new Set(L))}catch{w("Error processing file. Please check the format and try again.")}finally{j(!1)}}},S=h=>{const y=new Set(d);y.has(h)?y.delete(h):y.add(h),l(y)},A=()=>{d.size===x.recipes.length?l(new Set):l(new Set(x.recipes.map((h,y)=>y)))},E=()=>{if(!x)return;const h=Array.from(d).map(R=>x.recipes[R]).filter(R=>R),y=qe(h);s(y)},N=()=>{const h=c==="csv"?`title,ingredients,instructions,cookTime,prepTime,category,tags,notes,rating,difficulty,source,favorite
"Sample Recipe","ingredient1;ingredient2","Step 1;Step 2","30 min","10 min","Lunch/Dinner","easy;quick","Sample notes",4,"Easy","https://example.com",false`:JSON.stringify([{title:"Sample Recipe",ingredients:["ingredient1","ingredient2"],instructions:`Step 1
Step 2`,cookTime:"30 min",prepTime:"10 min",category:"Lunch/Dinner",tags:["easy","quick"],notes:"Sample notes",rating:4,difficulty:"Easy",source:"https://example.com",favorite:!1}],null,2),y=new Blob([h],{type:c==="csv"?"text/csv":"application/json"}),R=URL.createObjectURL(y),I=document.createElement("a");I.href=R,I.download=`recipe-template.${c}`,I.click(),URL.revokeObjectURL(R)};return x?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Import Preview"}),e.jsx("button",{onClick:()=>{p(null),r(null),w(null)},className:"btn-outline text-sm",children:"Start Over"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:[x.recipes.length," Recipes Found"]})]})}),x.duplicates.length>0&&e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[x.duplicates.length," Duplicates"]})]})}),x.errors.length>0&&e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-red-800",children:[x.errors.length," Errors"]})]})})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:A,className:"btn-outline text-sm",children:d.size===x.recipes.length?"Deselect All":"Select All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[d.size," of ",x.recipes.length," selected"]})]})}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:x.recipes.map((h,y)=>e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${d.has(y)?"border-sage-300 bg-sage-50":"border-gray-200 hover:border-gray-300"} ${x.duplicates.includes(h.title)?"opacity-50":""}`,onClick:()=>!x.duplicates.includes(h.title)&&S(y),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:h.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h.ingredients.length," ingredients • ",h.category]}),x.duplicates.includes(h.title)&&e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"⚠️ Duplicate - already exists"})]}),e.jsx("div",{className:"ml-4",children:e.jsx("input",{type:"checkbox",checked:d.has(y),onChange:()=>S(y),disabled:x.duplicates.includes(h.title),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"})})]})},y))}),x.errors.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Validation Errors:"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:x.errors.map((h,y)=>e.jsxs("li",{children:["• ",h]},y))})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:t,className:"btn-outline",children:"Cancel"}),e.jsxs("button",{onClick:E,disabled:d.size===0,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[a," (",d.size,")"]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"File Format"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"csv",checked:c==="csv",onChange:h=>o(h.target.value),className:"mr-2"}),e.jsx(Y,{className:"h-4 w-4 mr-1"}),"CSV"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"json",checked:c==="json",onChange:h=>o(h.target.value),className:"mr-2"}),e.jsx(Y,{className:"h-4 w-4 mr-1"}),"JSON"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),e.jsx("input",{type:"file",accept:c==="csv"?".csv":".json",onChange:C,className:"input-field"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(me,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Need a template?"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Download a sample ",c.toUpperCase()," file to see the expected format."]}),e.jsx("button",{onClick:N,className:"btn-outline text-sm mt-2",children:"Download Template"})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:v,disabled:!n||u,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:"Process File"})]})})}),k&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(V,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Import Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:k})]})]})})]})},Xs=()=>{const s=W(),{addRecipe:t,bulkAddRecipes:a}=$(),[n,r]=g.useState(null),c=l=>{t(l),r(null),s("/recipes")},o=l=>{t(l),r(null),s("/recipes")},x=l=>{a(l),r(null),s("/recipes")},p=()=>{r(null)},d=[{id:"manual",title:"Manual Entry",description:"Create a new recipe by filling out the form with all the details yourself.",icon:cs,onClick:()=>r("manual")},{id:"url",title:"URL Import",description:"Import a recipe from any website by pasting the URL. We'll extract the details for you.",icon:M,onClick:()=>r("url")},{id:"bulk",title:"Bulk Import",description:"Import multiple recipes from CSV or JSON files with preview and selection.",icon:Ee,onClick:()=>r("bulk")},{id:"image",title:"Image Upload",description:"Upload an image of a recipe and we'll extract the details using AI.",icon:ge,onClick:()=>r("image")}];return e.jsx(ue,{children:e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white rounded-full shadow-lg",children:e.jsx(z,{className:"h-12 w-12 text-sage-600"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold text-gray-900 mb-4",children:"Add New Recipe"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose how you'd like to add your recipe. We support multiple ways to get your recipes into your collection."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:d.map(l=>e.jsx(Zs,{title:l.title,description:l.description,icon:l.icon,onClick:l.onClick},l.id))}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Or continue with the traditional method"}),e.jsx("button",{onClick:()=>s("/new"),className:"btn-outline",children:"Go to Manual Entry Page"})]})]}),e.jsx(K,{isOpen:n==="manual",onClose:p,title:"Manual Recipe Entry",size:"lg",children:e.jsx(te,{onSubmit:c,onCancel:p,submitText:"Save Recipe"})}),e.jsx(K,{isOpen:n==="url",onClose:p,title:"Import from URL",size:"lg",children:e.jsx(Hs,{onSubmit:o,onCancel:p,submitText:"Save Imported Recipe"})}),e.jsx(K,{isOpen:n==="bulk",onClose:p,title:"Bulk Import",size:"xl",children:e.jsx(Qs,{onSubmit:x,onCancel:p,submitText:"Import Selected Recipes"})}),e.jsx(K,{isOpen:n==="image",onClose:p,title:"Image Upload",size:"md",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ge,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Coming Soon: Image Upload"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're working on AI-powered recipe extraction from images. This feature will be available in a future update."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"What to expect:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Upload photos of recipe cards or printed recipes"}),e.jsx("li",{children:"• AI will extract ingredients, instructions, and cooking times"}),e.jsx("li",{children:"• Review and edit the extracted information"}),e.jsx("li",{children:"• Save directly to your recipe collection"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:p,className:"btn-primary",children:"Got it"})})]})})]})})},et=()=>{const s=W(),{addRecipe:t}=$(),a=r=>{t(r),s("/recipes")},n=()=>{s("/recipes")};return e.jsx(ue,{children:e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Recipe"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Fill out the form below to add a new recipe to your collection."})]}),e.jsx("div",{className:"card",children:e.jsx(te,{onSubmit:a,onCancel:n,submitText:"Save Recipe"})})]})]})})},st=()=>{const s=W(),{addRecipe:t}=$(),[a,n]=g.useState(""),[r,c]=g.useState(!1),[o,x]=g.useState(null),[p,d]=g.useState(null),l=async()=>{if(!a.trim()){d("Please enter a recipe URL");return}c(!0),d(null),x(null);try{const w=await Ge(a),C=Ye(w);x(C)}catch{d("Failed to scrape recipe. Please try a different URL or add the recipe manually.")}finally{c(!1)}},u=w=>{t(w),s("/recipes")},j=()=>{s("/recipes")},k=()=>{n(""),x(null),d(null)};return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Recipe from URL"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Paste a recipe URL below and we'll extract the recipe details for you."})]}),o?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(X,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Recipe Imported Successfully!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Review and edit the details below, then save to your collection."})]})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Recipe Details"}),e.jsx("button",{onClick:k,className:"btn-outline text-sm",children:"Start Over"})]}),e.jsx(te,{initialData:o,onSubmit:u,onCancel:j,submitText:"Save Imported Recipe"})]})]}):e.jsx("div",{className:"card",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe URL"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"url",id:"url",value:a,onChange:w=>n(w.target.value),placeholder:"https://example.com/recipe",className:"input-field flex-1"}),e.jsx("button",{onClick:l,disabled:r||!a.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Scraping..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:"Import"})]})})]})]}),p&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(V,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Import Failed"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:p})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"How it works"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Paste any recipe URL from popular cooking websites"}),e.jsx("li",{children:"• We'll extract the title, ingredients, and instructions"}),e.jsx("li",{children:"• Review and edit the details before saving"}),e.jsx("li",{children:"• Add your own tags, notes, and rating"})]})]})]})})]})]})},tt=()=>{const s=W(),{bulkAddRecipes:t}=$(),[a,n]=g.useState(null),[r,c]=g.useState("csv"),[o,x]=g.useState(null),[p,d]=g.useState(new Set),[l,u]=g.useState(!1),[j,k]=g.useState(null),w=N=>{const h=N.target.files?.[0];h&&(n(h),x(null),k(null),d(new Set))},C=async()=>{if(a){u(!0),k(null);try{const N=await a.text();let h=[];if(r==="csv"?h=Je(N):h=Ze(N),h.length===0){k("No valid recipes found in the file");return}const y=JSON.parse(localStorage.getItem("myRecipesData")||"[]"),R=He(h,y);x(R);const I=h.map((L,P)=>P).filter(L=>!R.duplicates.includes(h[L].title));d(new Set(I))}catch{k("Error processing file. Please check the format and try again.")}finally{u(!1)}}},v=N=>{const h=new Set(p);h.has(N)?h.delete(N):h.add(N),d(h)},S=()=>{p.size===o.recipes.length?d(new Set):d(new Set(o.recipes.map((N,h)=>h)))},A=()=>{if(!o)return;const N=Array.from(p).map(y=>o.recipes[y]).filter(y=>y),h=qe(N);t(h),s("/recipes")},E=()=>{const N=r==="csv"?`title,ingredients,instructions,cookTime,prepTime,category,tags,notes,rating,difficulty,source,favorite
"Sample Recipe","ingredient1;ingredient2","Step 1;Step 2","30 min","10 min","Lunch/Dinner","easy;quick","Sample notes",4,"Easy","https://example.com",false`:JSON.stringify([{title:"Sample Recipe",ingredients:["ingredient1","ingredient2"],instructions:`Step 1
Step 2`,cookTime:"30 min",prepTime:"10 min",category:"Lunch/Dinner",tags:["easy","quick"],notes:"Sample notes",rating:4,difficulty:"Easy",source:"https://example.com",favorite:!1}],null,2),h=new Blob([N],{type:r==="csv"?"text/csv":"application/json"}),y=URL.createObjectURL(h),R=document.createElement("a");R.href=y,R.download=`recipe-template.${r}`,R.click(),URL.revokeObjectURL(y)};return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Import Recipes"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Import multiple recipes from CSV or JSON files."})]}),o?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Import Preview"}),e.jsx("button",{onClick:()=>{x(null),n(null),k(null)},className:"btn-outline text-sm",children:"Start Over"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:[o.recipes.length," Recipes Found"]})]})}),o.duplicates.length>0&&e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[o.duplicates.length," Duplicates"]})]})}),o.errors.length>0&&e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-red-800",children:[o.errors.length," Errors"]})]})})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:S,className:"btn-outline text-sm",children:p.size===o.recipes.length?"Deselect All":"Select All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[p.size," of ",o.recipes.length," selected"]})]})}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.recipes.map((N,h)=>e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${p.has(h)?"border-sage-300 bg-sage-50":"border-gray-200 hover:border-gray-300"} ${o.duplicates.includes(N.title)?"opacity-50":""}`,onClick:()=>!o.duplicates.includes(N.title)&&v(h),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:N.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[N.ingredients.length," ingredients • ",N.category]}),o.duplicates.includes(N.title)&&e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"⚠️ Duplicate - already exists"})]}),e.jsx("div",{className:"ml-4",children:e.jsx("input",{type:"checkbox",checked:p.has(h),onChange:()=>v(h),disabled:o.duplicates.includes(N.title),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"})})]})},h))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:A,disabled:p.size===0,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",p.size," Selected Recipes"]})})]}),o.errors.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Validation Errors:"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:o.errors.map((N,h)=>e.jsxs("li",{children:["• ",N]},h))})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"File Format"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"csv",checked:r==="csv",onChange:N=>c(N.target.value),className:"mr-2"}),e.jsx(Y,{className:"h-4 w-4 mr-1"}),"CSV"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"json",checked:r==="json",onChange:N=>c(N.target.value),className:"mr-2"}),e.jsx(Y,{className:"h-4 w-4 mr-1"}),"JSON"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),e.jsx("input",{type:"file",accept:r==="csv"?".csv":".json",onChange:w,className:"input-field"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(me,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Need a template?"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Download a sample ",r.toUpperCase()," file to see the expected format."]}),e.jsx("button",{onClick:E,className:"btn-outline text-sm mt-2",children:"Download Template"})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:C,disabled:!a||l,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:"Process File"})]})})})]})}),j&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(V,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Import Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:j})]})]})})]})]})]})},at=()=>{const{state:s,updateRecipe:t,loadSampleData:a,clearAllData:n,hasSampleDataLoaded:r}=$(),[c,o]=g.useState("tags"),[x,p]=g.useState(null),[d,l]=g.useState(null),[u,j]=g.useState(""),[k,w]=g.useState(!1),[C,v]=g.useState(null),[S,A]=g.useState(""),E=Array.from(new Set(s.recipes.flatMap(i=>i.tags))).sort(),N=Array.from(new Set(s.recipes.map(i=>i.category))).sort(),h=(i,m)=>{if(!m.trim()||m===i)return;s.recipes.map(f=>({...f,tags:f.tags.map(T=>T===i?m:T)})).forEach(f=>t(f)),p(null)},y=i=>{if(!window.confirm(`Are you sure you want to delete the tag "${i}"? This will remove it from all recipes.`))return;s.recipes.map(b=>({...b,tags:b.tags.filter(f=>f!==i)})).forEach(b=>t(b))},R=()=>{if(!(!u.trim()||E.includes(u))){if(s.recipes.length>0){const i=s.recipes[0];t({...i,tags:[...i.tags,u]})}j("")}},I=(i,m)=>{if(!m.trim()||m===i)return;s.recipes.map(f=>({...f,category:f.category===i?m:f.category})).forEach(f=>t(f)),l(null)},L=i=>s.recipes.filter(m=>m.tags.includes(i)).length,P=i=>s.recipes.filter(m=>m.category===i).length,_=async()=>{v("loading"),A("Loading sample data...");try{const i=a();i.success?(v("success"),A(i.message)):(v("error"),A(i.message))}catch{v("error"),A("An unexpected error occurred")}setTimeout(()=>{v(null),A("")},3e3)},ae=async()=>{v("loading"),A("Clearing all data...");try{const i=n();i.success?(v("success"),A(i.message),w(!1)):(v("error"),A(i.message))}catch{v("error"),A("An unexpected error occurred")}setTimeout(()=>{v(null),A("")},3e3)};return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Data"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Organize your recipe collection and manage sample data for testing."})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>o("tags"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="tags"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(De,{className:"h-4 w-4"}),e.jsxs("span",{children:["Tags (",E.length,")"]})]}),e.jsxs("button",{onClick:()=>o("categories"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="categories"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(os,{className:"h-4 w-4"}),e.jsxs("span",{children:["Categories (",N.length,")"]})]}),e.jsxs("button",{onClick:()=>o("data"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${c==="data"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{children:"Data Management"})]})]})}),c==="tags"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Tag"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:u,onChange:i=>j(i.target.value),placeholder:"Enter tag name",className:"input-field flex-1",onKeyPress:i=>{i.key==="Enter"&&R()}}),e.jsxs("button",{onClick:R,disabled:!u.trim()||E.includes(u),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Add"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Tags"}),E.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tags found. Add some tags to your recipes!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(i=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:i}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>p(i),className:"text-gray-400 hover:text-gray-600",children:e.jsx(fe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y(i),className:"text-gray-400 hover:text-red-600",children:e.jsx(Te,{className:"h-4 w-4"})})]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Used in ",L(i)," recipe",L(i)!==1?"s":""]}),x===i&&e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("input",{type:"text",defaultValue:i,className:"input-field text-sm flex-1",onKeyPress:m=>{m.key==="Enter"&&h(i,m.currentTarget.value)},autoFocus:!0}),e.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(U,{className:"h-4 w-4"})})]})]},i))})]})]}),c==="categories"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Categories"}),N.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No categories found."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(i=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:i}),e.jsx("div",{className:"flex space-x-1",children:e.jsx("button",{onClick:()=>l(i),className:"text-gray-400 hover:text-gray-600",children:e.jsx(fe,{className:"h-4 w-4"})})})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Used in ",P(i)," recipe",P(i)!==1?"s":""]}),d===i&&e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("input",{type:"text",defaultValue:i,className:"input-field text-sm flex-1",onKeyPress:m=>{m.key==="Enter"&&I(i,m.currentTarget.value)},autoFocus:!0}),e.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(U,{className:"h-4 w-4"})})]})]},i))})]})}),c==="data"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-sage-700",children:s.recipes.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Recipes"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-sage-700",children:E.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Unique Tags"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-sage-700",children:N.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sample Data"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Load Sample Data"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Load 10 sample recipes for testing and demonstration purposes."}),r()&&e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"✓ Sample data already loaded"})]}),e.jsxs("button",{onClick:_,disabled:C==="loading"||r(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:C==="loading"?"Loading...":"Load Sample Data"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-900",children:"Clear All Data"}),e.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete all recipes and reset the application."})]}),e.jsxs("button",{onClick:()=>w(!0),disabled:C==="loading"||s.recipes.length===0,className:"btn-danger disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(ds,{className:"h-4 w-4"}),e.jsx("span",{children:"Clear All Data"})]})]})]})]}),C&&e.jsx("div",{className:`p-4 rounded-lg ${C==="success"?"bg-green-50 border border-green-200":C==="error"?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[C==="loading"&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),C==="success"&&e.jsx("div",{className:"text-green-600",children:"✓"}),C==="error"&&e.jsx("div",{className:"text-red-600",children:"✗"}),e.jsx("span",{className:`text-sm ${C==="success"?"text-green-800":C==="error"?"text-red-800":"text-blue-800"}`,children:S})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(ms,{className:"h-6 w-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Data Deletion"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete all ",s.recipes.length," recipes? This action cannot be undone."]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{onClick:ae,className:"btn-danger flex-1",children:"Delete All Data"})]})]})})]})]})]})},rt=({recipe:s,onDelete:t,onToggleFavorite:a,onRatingChange:n})=>{const[r,c]=g.useState(!1),o=()=>{window.confirm("Are you sure you want to delete this recipe?")&&t(s.id)},x=u=>{n&&n(s.id,u)},p=()=>{window.location.href=`/recipes/${s.id}/edit`},d=Ss(s),l=Rs(s);return e.jsx(ue,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(D,{to:"/recipes",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Recipes"})]})}),e.jsxs("div",{className:"card",children:[e.jsx(We,{title:s.title,rating:s.rating,isFavorite:s.isFavorite,onToggleFavorite:a?()=>a(s.id):void 0,onEdit:p,onDelete:o,className:"mb-4"}),e.jsx("div",{className:"hidden md:block mb-6",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.title}),a&&e.jsx("button",{onClick:()=>a(s.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(J,{className:`h-6 w-6 ${s.isFavorite?"text-red-500 fill-current":""}`})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ce[s.category]}`,children:[H[s.category]," ",s.category]}),s.cookTime&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Z,{className:"h-4 w-4 mr-1"}),s.cookTime]}),e.jsx(se,{rating:s.rating,size:"lg",interactive:!0,onRatingChange:x})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(oe,{onEdit:p,onDelete:o})})]})}),e.jsx("div",{className:"md:hidden mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ce[s.category]}`,children:[H[s.category]," ",s.category]}),s.difficulty&&e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ue[s.difficulty]}`,children:[Be[s.difficulty]," ",s.difficulty]}),s.cookTime&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Z,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:s.cookTime})]})]})}),s.image&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-64 md:h-80 object-cover rounded-lg",loading:"lazy",srcSet:`
                    ${s.image}?w=320 320w,
                    ${s.image}?w=640 640w,
                    ${s.image}?w=960 960w,
                    ${s.image}?w=1280 1280w
                  `,sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"})})}),s.tags.length>0&&e.jsx("div",{className:"hidden md:flex flex-wrap gap-2 mb-6",children:s.tags.map((u,j)=>e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${pe(u,j)}`,children:u},u))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ingredients"}),e.jsx("ul",{className:"space-y-2",children:d.map((u,j)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-sage-500 rounded-full mt-2 mr-3"}),e.jsx("span",{className:"text-gray-700",children:u})]},j))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Instructions"}),e.jsx("div",{className:"space-y-6",children:l.map((u,j)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[u.label!=="Main"&&e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3 pb-2 border-b border-gray-300",children:u.label}),e.jsx("div",{className:"space-y-3",children:u.instructions.map((k,w)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-sage-500 text-white text-sm font-medium rounded-full flex items-center justify-center mr-3 mt-0.5",children:w+1}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:k})]},w))})]},j))})]})]}),s.notes&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Notes"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.notes})})]}),e.jsx("div",{className:"hidden md:block mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500",children:e.jsxs("p",{children:["Created: ",new Date(s.createdAt).toLocaleDateString(),s.updatedAt&&s.updatedAt!==s.createdAt&&e.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(s.updatedAt).toLocaleDateString()]})]})})]}),e.jsxs("div",{className:"md:hidden mb-6",children:[e.jsxs("button",{onClick:()=>c(!r),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Details"}),r?e.jsx(hs,{className:"h-4 w-4 text-gray-500"}):e.jsx(ps,{className:"h-4 w-4 text-gray-500"})]}),r&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:["Created: ",new Date(s.createdAt).toLocaleDateString()]}),s.updatedAt&&s.updatedAt!==s.createdAt&&e.jsxs("p",{children:["Updated: ",new Date(s.updatedAt).toLocaleDateString()]}),s.sourceUrl&&e.jsxs("p",{children:["Source: ",e.jsx("a",{href:s.sourceUrl,className:"text-sage-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"View Original"})]})]})]}),e.jsx("div",{className:"fixed bottom-4 right-4 z-50","data-mobile-only":"true",children:e.jsx(oe,{onEdit:p,onDelete:o,className:"bg-white shadow-lg rounded-full p-2 border border-gray-200"})})]})})},it=()=>{const{id:s}=Se(),t=W(),{getRecipeById:a,deleteRecipe:n,toggleFavorite:r,updateRecipe:c}=$(),o=s?a(s):void 0,x=d=>{n(d),t("/recipes")},p=(d,l)=>{o&&c({...o,rating:l})};return o?e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(rt,{recipe:o,onDelete:x,onToggleFavorite:r,onRatingChange:p})})]}):e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"🔍"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recipe Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The recipe you're looking for doesn't exist or has been deleted."}),e.jsx("button",{onClick:()=>t("/recipes"),className:"btn-primary",children:"Back to Recipes"})]})})]})},nt=()=>{const{id:s}=Se(),t=W(),{getRecipeById:a,updateRecipe:n}=$(),r=s?a(s):void 0,c=x=>{r&&(n({...r,...x}),t(`/recipes/${r.id}`))},o=()=>{t(r?`/recipes/${r.id}`:"/recipes")};return r?e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Recipe"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update your recipe details below."})]}),e.jsx("div",{className:"card",children:e.jsx(te,{initialData:r,onSubmit:c,onCancel:o,submitText:"Update Recipe"})})]})]}):e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(F,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"🔍"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recipe Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The recipe you're trying to edit doesn't exist or has been deleted."}),e.jsx("button",{onClick:()=>t("/recipes"),className:"btn-primary",children:"Back to Recipes"})]})})]})};function lt(){return e.jsx(Us,{children:e.jsx(zs,{children:e.jsx(Xe,{basename:"/recipes",children:e.jsx("div",{className:"min-h-screen bg-cream-50",children:e.jsxs(es,{children:[e.jsx(O,{path:"/",element:e.jsx(Vs,{})}),e.jsx(O,{path:"/recipes",element:e.jsx(Js,{})}),e.jsx(O,{path:"/new",element:e.jsx(et,{})}),e.jsx(O,{path:"/newrecipe",element:e.jsx(Xs,{})}),e.jsx(O,{path:"/import",element:e.jsx(st,{})}),e.jsx(O,{path:"/import/bulk",element:e.jsx(tt,{})}),e.jsx(O,{path:"/manage",element:e.jsx(at,{})}),e.jsx(O,{path:"/recipes/:id",element:e.jsx(it,{})}),e.jsx(O,{path:"/recipes/:id/edit",element:e.jsx(nt,{})})]})})})})})}ne.createRoot(document.getElementById("root")).render(e.jsx(Qe.StrictMode,{children:e.jsx(lt,{})}));
