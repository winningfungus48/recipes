import{r as b,a as Te,b as Ae}from"./vendor-BaVwoRKI.js";import{u as Fe,L as S,a as U,b as me,B as De,R as Le,c as D}from"./router-DuZTsSrQ.js";import{C as xe,B as he,P as $,U as P,F as Z,S as Ie,a as ue,b as Oe,c as pe,I as Pe,H as z,d as G,X as W,G as _e,L as Me,T as ee,A as se,e as ge,D as $e,f as Ue,g as le,h as fe,i as Be,j as Ve}from"./icons-DtHxPUkr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(r){if(r.ep)return;r.ep=!0;const d=a(r);fetch(r.href,d)}})();var je={exports:{}},J={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze=b,Ge=Symbol.for("react.element"),We=Symbol.for("react.fragment"),Ye=Object.prototype.hasOwnProperty,He=ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Je={key:!0,ref:!0,__self:!0,__source:!0};function ye(s,t,a){var l,r={},d=null,c=null;a!==void 0&&(d=""+a),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(c=t.ref);for(l in t)Ye.call(t,l)&&!Je.hasOwnProperty(l)&&(r[l]=t[l]);if(s&&s.defaultProps)for(l in t=s.defaultProps,t)r[l]===void 0&&(r[l]=t[l]);return{$$typeof:Ge,type:s,key:d,ref:c,props:r,_owner:He.current}}J.Fragment=We;J.jsx=ye;J.jsxs=ye;je.exports=J;var e=je.exports,te={},ie=Te;te.createRoot=ie.createRoot,te.hydrateRoot=ie.hydrateRoot;function be(s){return Array.isArray(s.ingredients)&&s.ingredients.length>0&&typeof s.instructions=="string"&&!_(s)}function _(s){return!!(s.sections&&s.sections.length>0)}const Ne="myRecipesData",ve="recipeViewMode",O=s=>{try{localStorage.setItem(Ne,JSON.stringify(s))}catch(t){console.error("Failed to save recipes to localStorage:",t)}},we=()=>{try{const s=localStorage.getItem(Ne);if(!s)return[];const t=JSON.parse(s);if(!Array.isArray(t))return console.error("Invalid data format in localStorage - expected array, got:",typeof t),[];const a=t.filter(l=>!(!l||typeof l!="object"||!l.id||!l.title));return a.length!==t.length&&console.warn(`Filtered out ${t.length-a.length} invalid recipes`),a}catch(s){return console.error("Failed to load recipes from localStorage:",s),[]}},Ke=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),ne=s=>{const t=new Date().toISOString();return{...s,id:Ke(),createdAt:t,updatedAt:t}},qe=s=>({...s,updatedAt:new Date().toISOString()}),Qe=s=>{if(_(s))return s;if(be(s)){const t={label:"Main",ingredients:Array.isArray(s.ingredients)?s.ingredients:[],instructions:typeof s.instructions=="string"?s.instructions.split(`
`).filter(a=>a.trim()):[]};return{...s,sections:[t]}}return{...s,sections:[{label:"Main",ingredients:[],instructions:[]}]}},Xe=()=>{try{const t=we().map(a=>{try{return Qe(a)}catch(l){return console.error("Failed to migrate recipe:",a.title,l),a}});return O(t),t}catch(s){return console.error("Failed to migrate recipes:",s),[]}},Ze=()=>{const s=we();return s.some(a=>be(a)&&!_(a))?(console.log("Migrating recipes to sections format..."),Xe()):s},es=s=>_(s)&&s.sections?s.sections.flatMap(a=>a.ingredients).filter(a=>a.trim()!==""):s.ingredients.filter(t=>t.trim()!==""),ss=s=>{if(_(s)&&s.sections)return s.sections.filter(t=>t.instructions.length>0).map(t=>({label:t.label||"Main",instructions:t.instructions.filter(a=>a.trim()!=="")}));if(s.instructions){const t=s.instructions.split(`
`).filter(a=>a.trim()!=="");return t.length>0?[{label:"Main",instructions:t}]:[]}return[]},ts=(s,t)=>{if(!t.trim())return!0;const a=t.toLowerCase();return s.title.toLowerCase().includes(a)||s.tags.some(l=>l.toLowerCase().includes(a))||s.ingredients.some(l=>l.toLowerCase().includes(a))||s.instructions.toLowerCase().includes(a)?!0:_(s)&&s.sections?s.sections.some(l=>!!(l.label.toLowerCase().includes(a)||l.ingredients.some(r=>r.toLowerCase().includes(a))||l.instructions.some(r=>r.toLowerCase().includes(a)))):!1},as=s=>{const t=[],a=[];if(!s||s.length===0)return{isValid:!0,errors:t,duplicateLabels:a};const l=new Map;return s.forEach(r=>{const d=r.label.trim();if(!d)return;const c=d.toLowerCase(),h=l.get(c)||0;l.set(c,h+1),h===1&&(a.push(d),t.push(`Section label "${d}" is used multiple times`))}),{isValid:t.length===0,errors:t,duplicateLabels:a}},rs=(s,t,a)=>{if(!a.trim())return null;const l=a.toLowerCase();return s.some((d,c)=>c!==t&&d.label.toLowerCase()===l)?`Section label "${a}" is already used`:null},ls=s=>{try{localStorage.setItem(ve,JSON.stringify(s))}catch(t){console.error("Failed to save view mode to localStorage:",t)}},is=()=>{try{const s=localStorage.getItem(ve);if(!s)return{type:"list"};const t=JSON.parse(s);return t&&typeof t=="object"&&t.type&&(t.type==="grid"||t.type==="list")?t:{type:"list"}}catch(s){return console.error("Failed to load view mode from localStorage:",s),{type:"list"}}},V=s=>{if(!s)return 0;const t=s.match(/(\d+)\s*(min|hour|hr|h|m)/i);if(!t)return 0;const a=parseInt(t[1]),l=t[2].toLowerCase();return l.includes("hour")||l.includes("hr")||l.includes("h")?a*60:a},ns={recipes:[],filteredRecipes:[],filters:{search:"",category:"All",tags:[],difficulty:"All",rating:0,hasImage:!1,isFavorite:!1,recentlyAdded:!1,sortBy:"createdAt",sortOrder:"desc"},viewMode:{type:"list"},loading:!1,error:null},cs=(s,t)=>{switch(t.type){case"SET_LOADING":return{...s,loading:t.payload};case"SET_ERROR":return{...s,error:t.payload};case"LOAD_RECIPES":return{...s,recipes:t.payload,filteredRecipes:t.payload};case"ADD_RECIPE":const a=[...s.recipes,t.payload];return O(a),{...s,recipes:a};case"UPDATE_RECIPE":const l=s.recipes.map(n=>n.id===t.payload.id?t.payload:n);return O(l),{...s,recipes:l};case"DELETE_RECIPE":const r=s.recipes.filter(n=>n.id!==t.payload);return O(r),{...s,recipes:r};case"TOGGLE_FAVORITE":const d=s.recipes.map(n=>n.id===t.payload?{...n,isFavorite:!n.isFavorite}:n);O(d);const c=s.filteredRecipes.map(n=>n.id===t.payload?{...n,isFavorite:!n.isFavorite}:n);return{...s,recipes:d,filteredRecipes:c};case"BULK_ADD_RECIPES":const h=[...s.recipes,...t.payload];return O(h),{...s,recipes:h};case"SET_FILTERS":return{...s,filters:{...s.filters,...t.payload}};case"SET_VIEW_MODE":return ls(t.payload),{...s,viewMode:t.payload};case"LOAD_VIEW_MODE":return{...s,viewMode:is()};case"APPLY_FILTERS":let m=[...s.recipes];if(s.filters.search&&(m=m.filter(n=>ts(n,s.filters.search))),s.filters.category!=="All"&&(m=m.filter(n=>n.category===s.filters.category)),s.filters.difficulty!=="All"&&(m=m.filter(n=>n.difficulty===s.filters.difficulty)),s.filters.rating>0&&(m=m.filter(n=>n.rating>=s.filters.rating)),s.filters.hasImage&&(m=m.filter(n=>!!n.image)),s.filters.isFavorite&&(m=m.filter(n=>n.isFavorite===!0)),s.filters.recentlyAdded){const n=new Date;n.setDate(n.getDate()-7),m=m.filter(o=>new Date(o.createdAt)>n)}return s.filters.tags.length>0&&(m=m.filter(n=>s.filters.tags.every(o=>n.tags.includes(o)))),m.sort((n,o)=>{let N=0;switch(s.filters.sortBy){case"title":N=n.title.localeCompare(o.title);break;case"rating":N=n.rating-o.rating;break;case"createdAt":N=new Date(n.createdAt).getTime()-new Date(o.createdAt).getTime();break;case"cookTime":N=V(n.cookTime)-V(o.cookTime);break;case"prepTime":N=V(n.prepTime||"0")-V(o.prepTime||"0");break}return s.filters.sortOrder==="asc"?N:-N}),{...s,filteredRecipes:m};default:return s}},ke=b.createContext(void 0),os=({children:s})=>{const[t,a]=b.useReducer(cs,ns);b.useEffect(()=>{(async()=>{a({type:"SET_LOADING",payload:!0});try{const k=Ze();a({type:"LOAD_RECIPES",payload:k}),a({type:"LOAD_VIEW_MODE"})}catch(k){console.error("Failed to load recipes:",k),a({type:"SET_ERROR",payload:"Failed to load recipes"}),a({type:"LOAD_RECIPES",payload:[]})}finally{a({type:"SET_LOADING",payload:!1})}})()},[]),b.useEffect(()=>{a({type:"APPLY_FILTERS"})},[t.filters,t.recipes.length]);const C={state:t,addRecipe:y=>{const k=ne(y);a({type:"ADD_RECIPE",payload:k})},updateRecipe:y=>{const k=qe(y);a({type:"UPDATE_RECIPE",payload:k})},deleteRecipe:y=>{a({type:"DELETE_RECIPE",payload:y})},toggleFavorite:y=>{a({type:"TOGGLE_FAVORITE",payload:y})},bulkAddRecipes:y=>{const k=y.map(F=>ne(F));a({type:"BULK_ADD_RECIPES",payload:k})},setFilters:y=>{a({type:"SET_FILTERS",payload:y})},setViewMode:y=>{a({type:"SET_VIEW_MODE",payload:y})},applyFilters:()=>{a({type:"APPLY_FILTERS"})},clearFilters:()=>{a({type:"SET_FILTERS",payload:{search:"",category:"All",tags:[],difficulty:"All",rating:0,hasImage:!1,isFavorite:!1,recentlyAdded:!1,sortBy:"createdAt",sortOrder:"desc"}})},getRecipeById:y=>t.recipes.find(k=>k.id===y)};return e.jsx(ke.Provider,{value:C,children:s})},L=()=>{const s=b.useContext(ke);if(s===void 0)throw new Error("useRecipes must be used within a RecipesProvider");return s};class ds extends b.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("ErrorBoundary caught an error:",t,a),this.setState({error:t,errorInfo:a})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),e.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"The app encountered an error while loading recipes. This might be due to corrupted data in your browser's storage."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{localStorage.removeItem("myRecipesData"),window.location.reload()},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Clear Data & Reload"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Reload Page"})]}),this.state.error&&e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-600 hover:text-gray-800",children:"Error Details (Development)"}),e.jsxs("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}}const T=()=>{const s=Fe(),t=a=>s.pathname===a;return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"h-8 w-8 text-sage-600"}),e.jsx("span",{className:"text-xl font-display font-bold text-gray-900",children:"Recipe App"})]}),e.jsxs("nav",{className:"hidden md:flex space-x-6",children:[e.jsxs(S,{to:"/recipes",className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${t("/recipes")?"bg-sage-100 text-sage-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{children:"Recipes"})]}),e.jsxs(S,{to:"/new",className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${t("/new")?"bg-sage-100 text-sage-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{children:"New Recipe"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Import"})]}),e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsxs(S,{to:"/import",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Import from URL"})]}),e.jsxs(S,{to:"/import/bulk",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{children:"Bulk Import"})]})]})})]}),e.jsxs(S,{to:"/manage",className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${t("/manage")?"bg-sage-100 text-sage-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Ie,{className:"h-4 w-4"}),e.jsx("span",{children:"Manage"})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsxs("button",{type:"button",className:"text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-sage-500",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})})})},ms=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cream-50 to-sage-50",children:[e.jsx(T,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-white rounded-full shadow-lg",children:e.jsx(xe,{className:"h-16 w-16 text-sage-600"})})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-display font-bold text-gray-900 mb-6",children:["Your Personal",e.jsx("span",{className:"text-sage-600",children:" Recipe Collection"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Organize, discover, and enjoy your favorite recipes in one beautiful place. Create, import, and manage your culinary creations with ease."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(S,{to:"/recipes",className:"btn-primary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5"}),e.jsx("span",{children:"Browse Recipes"})]}),e.jsxs(S,{to:"/new",className:"btn-secondary text-lg px-8 py-3 flex items-center justify-center space-x-2",children:[e.jsx($,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Recipe"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-sage-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx($,{className:"h-8 w-8 text-sage-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Create Recipes"}),e.jsx("p",{className:"text-gray-600",children:"Manually add your favorite recipes with detailed ingredients, instructions, and personal notes."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-wood-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(P,{className:"h-8 w-8 text-wood-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Import from Web"}),e.jsx("p",{className:"text-gray-600",children:"Import recipes from any website with our smart scraper. Edit and customize before saving."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-yellow-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(ue,{className:"h-8 w-8 text-yellow-600"})}),e.jsx("h3",{className:"text-xl font-semibent text-gray-900 mb-2",children:"Smart Search"}),e.jsx("p",{className:"text-gray-600",children:"Find recipes quickly with powerful search, filters, and tags. Rate and organize your collection."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-8",children:"Get Started"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(S,{to:"/new",className:"group p-6 border border-gray-200 rounded-lg hover:border-sage-300 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-sage-100 group-hover:bg-sage-200 rounded-lg p-3 transition-colors",children:e.jsx($,{className:"h-6 w-6 text-sage-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-sage-700",children:"Add Your First Recipe"}),e.jsx("p",{className:"text-gray-600",children:"Start building your collection with a new recipe"})]})]})}),e.jsx(S,{to:"/import",className:"group p-6 border border-gray-200 rounded-lg hover:border-sage-300 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-wood-100 group-hover:bg-wood-200 rounded-lg p-3 transition-colors",children:e.jsx(P,{className:"h-6 w-6 text-wood-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-sage-700",children:"Import from Web"}),e.jsx("p",{className:"text-gray-600",children:"Bring in recipes from your favorite websites"})]})]})})]})]})]})]}),Re=["Breakfast","Lunch/Dinner","Desserts","Appetizers","Drinks","Other"],Se=["Easy","Medium","Hard"],M={Breakfast:"ðŸ¥ž","Lunch/Dinner":"ðŸ½ï¸",Desserts:"ðŸ°",Appetizers:"ðŸ¥—",Drinks:"ðŸ¥¤",Other:"ðŸ“"},ae={Breakfast:"bg-yellow-100 text-yellow-800","Lunch/Dinner":"bg-green-100 text-green-800",Desserts:"bg-pink-100 text-pink-800",Appetizers:"bg-blue-100 text-blue-800",Drinks:"bg-purple-100 text-purple-800",Other:"bg-gray-100 text-gray-800"},ce={Easy:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",Hard:"bg-red-100 text-red-800"},oe={Easy:"â­",Medium:"â­â­",Hard:"â­â­â­"},Ce=["easy","quick","healthy","vegetarian","vegan","gluten-free","dairy-free","low-carb","high-protein","one-pot","meal-prep","comfort-food","spicy","sweet","savory","chicken","beef","fish","pasta","salad","soup","baked","grilled","fried","raw"],de=["bg-gray-100 text-gray-800","bg-red-100 text-red-800","bg-orange-100 text-orange-800","bg-yellow-100 text-yellow-800","bg-green-100 text-green-800","bg-teal-100 text-teal-800","bg-blue-100 text-blue-800","bg-indigo-100 text-indigo-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800"],Y=(s,t=0)=>de[t%de.length],xs=({filters:s,onFiltersChange:t,onClearFilters:a})=>{const[l,r]=b.useState(!1),d=o=>{t({category:o})},c=o=>{const N=s.tags.includes(o)?s.tags.filter(w=>w!==o):[...s.tags,o];t({tags:N})},h=o=>{t({sortBy:o})},m=()=>{t({sortOrder:s.sortOrder==="asc"?"desc":"asc"})},n=s.category!=="All"||s.tags.length>0||s.difficulty!=="All"||s.rating>0||s.hasImage||s.isFavorite||s.recentlyAdded;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("div",{className:"md:hidden mb-4",children:e.jsxs("button",{onClick:()=>r(!l),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})}),e.jsxs("div",{className:`space-y-4 ${l?"block":"hidden md:block"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:s.category,onChange:o=>d(o.target.value),className:"input-field",children:[e.jsx("option",{value:"All",children:"All Categories"}),Re.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),e.jsxs("select",{value:s.difficulty,onChange:o=>t({difficulty:o.target.value}),className:"input-field",children:[e.jsx("option",{value:"All",children:"All Difficulties"}),Se.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"h-4 w-4 text-yellow-400"}),e.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:s.rating,onChange:o=>t({rating:parseFloat(o.target.value)}),className:"flex-1"}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:s.rating>0?s.rating:"Any"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.hasImage,onChange:o=>t({hasImage:o.target.checked}),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx(Pe,{className:"h-4 w-4 ml-2 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Has Image"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.isFavorite,onChange:o=>t({isFavorite:o.target.checked}),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx(z,{className:"h-4 w-4 ml-2 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Favorites Only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.recentlyAdded,onChange:o=>t({recentlyAdded:o.target.checked}),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx(G,{className:"h-4 w-4 ml-2 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Recently Added (7 days)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.map((o,N)=>e.jsx("button",{onClick:()=>c(o),className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-colors ${s.tags.includes(o)?Y(o,N):"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:s.sortBy,onChange:o=>h(o.target.value),className:"input-field flex-1",children:[e.jsx("option",{value:"title",children:"Title"}),e.jsx("option",{value:"rating",children:"Rating"}),e.jsx("option",{value:"createdAt",children:"Date Added"}),e.jsx("option",{value:"cookTime",children:"Cook Time"}),e.jsx("option",{value:"prepTime",children:"Prep Time"})]}),e.jsx("button",{onClick:m,className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:`Sort ${s.sortOrder==="asc"?"Descending":"Ascending"}`,children:s.sortOrder==="asc"?"â†‘":"â†“"})]})]}),n&&e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Clear all filters"})]})]})]})},hs=({viewMode:s,onViewModeChange:t})=>e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>t({type:"grid"}),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.type==="grid"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{children:"Grid"})]}),e.jsxs("button",{onClick:()=>t({type:"list"}),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${s.type==="list"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{children:"List"})]})]}),H=({rating:s,onRatingChange:t,interactive:a=!1,size:l="md"})=>{const r={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},d=h=>{a&&t&&t(h)},c=h=>{};return e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(h=>{const m=s>=h-.5&&s<h,n=s>=h;return e.jsx("button",{type:"button",onClick:()=>d(h),onMouseEnter:()=>c(),disabled:!a,className:`${r[l]} ${a?"cursor-pointer":"cursor-default"} transition-colors duration-150`,children:e.jsx(pe,{className:`${r[l]} ${n||m?"text-yellow-400":"text-gray-300"} ${m||n?"fill-yellow-400":"fill-none"}`})},h)})})},us=({recipe:s,viewMode:t,onToggleFavorite:a})=>t==="list"?e.jsx("div",{className:"card hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"w-20 h-20 object-cover rounded-lg"}):e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:M[s.category]})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(S,{to:`/recipes/${s.id}`,className:"text-lg font-semibold text-gray-900 hover:text-sage-600 transition-colors",children:s.title}),e.jsx("div",{className:"flex items-center space-x-2 ml-4",children:a&&e.jsx("button",{onClick:l=>{l.preventDefault(),a(s.id)},className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(z,{className:`h-4 w-4 ${s.isFavorite?"text-red-500 fill-current":""}`})})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ae[s.category]}`,children:[M[s.category]," ",s.category]}),s.difficulty&&e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ce[s.difficulty]}`,children:[oe[s.difficulty]," ",s.difficulty]}),s.cookTime&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),s.cookTime]}),e.jsx(H,{rating:s.rating,size:"sm"})]})]})}),s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[s.tags.slice(0,3).map((l,r)=>e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Y(l,r)}`,children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),l]},l)),s.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.tags.length-3," more"]})]})]})]})}):e.jsxs("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx(S,{to:`/recipes/${s.id}`,className:"block",children:e.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-48 object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-4xl",children:M[s.category]})})})}),a&&e.jsx("button",{onClick:l=>{l.preventDefault(),a(s.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-500 transition-colors bg-white rounded-full p-1 shadow-sm",children:e.jsx(z,{className:`h-4 w-4 ${s.isFavorite?"text-red-500 fill-current":""}`})})]}),e.jsxs("div",{children:[e.jsx(S,{to:`/recipes/${s.id}`,children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-sage-600 transition-colors",children:s.title})}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ae[s.category]}`,children:[M[s.category]," ",s.category]}),e.jsx(H,{rating:s.rating,size:"sm"})]}),s.difficulty&&e.jsx("div",{className:"mb-2",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ce[s.difficulty]}`,children:[oe[s.difficulty]," ",s.difficulty]})}),s.cookTime&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),s.cookTime]}),s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map((l,r)=>e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Y(l,r)}`,children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),l]},l)),s.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",s.tags.length-3," more"]})]})]})]}),ps=()=>{const{state:s,setFilters:t,setViewMode:a,clearFilters:l,toggleFavorite:r}=L();return s.loading?e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sage-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading recipes..."})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Recipes"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[s.filteredRecipes.length," recipe",s.filteredRecipes.length!==1?"s":"",s.recipes.length!==s.filteredRecipes.length&&` of ${s.recipes.length} total`]})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(hs,{viewMode:s.viewMode,onViewModeChange:a})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:s.filters.search,onChange:d=>t({search:d.target.value}),placeholder:"Search by title, ingredients, or tags...",className:"input-field pl-10 w-full"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(xs,{filters:s.filters,onFiltersChange:t,onClearFilters:l})}),e.jsxs("div",{className:"lg:col-span-3",children:[s.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-800",children:s.error})}),s.filteredRecipes.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"ðŸ½ï¸"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.recipes.length===0?"No recipes yet":"No recipes match your filters"}),e.jsx("p",{className:"text-gray-600 mb-6",children:s.recipes.length===0?"Start building your recipe collection by adding your first recipe.":"Try adjusting your search or filter criteria."}),s.recipes.length===0&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"/new",className:"btn-primary",children:"Add Your First Recipe"}),e.jsx("a",{href:"/import",className:"btn-outline",children:"Import from Web"})]})]}):e.jsx("div",{className:s.viewMode.type==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:s.filteredRecipes.map(d=>e.jsx(us,{recipe:d,viewMode:s.viewMode.type,onToggleFavorite:r},d.id))})]})]})]})]})},re=({initialData:s={},onSubmit:t,onCancel:a,submitText:l="Save Recipe"})=>{const[r,d]=b.useState({title:"",ingredients:[""],instructions:"",sections:[{label:"Main",ingredients:[""],instructions:[""]}],cookTime:"",prepTime:"",category:"Lunch/Dinner",tags:[],notes:"",rating:0,difficulty:void 0,source:"",lastCooked:"",isFavorite:!1,image:void 0,...s}),[c,h]=b.useState(""),[m,n]=b.useState(r.image),[o,N]=b.useState({});b.useEffect(()=>{r.image&&n(r.image)},[r.image]);const w=(i,x)=>{d(f=>({...f,[i]:x}))},C=()=>{const i={label:"",ingredients:[""],instructions:[""]};d(x=>({...x,sections:[...x.sections||[],i]}))},y=i=>{if(r.sections&&r.sections.length>1){const x=r.sections.filter((f,j)=>j!==i);d(f=>({...f,sections:x}))}},k=(i,x,f)=>{const j=[...r.sections||[]];j[i]={...j[i],[x]:f},d(R=>({...R,sections:j}));{const R=rs(j,i,f);N(X=>({...X,[i]:R||""}))}},F=(i,x,f)=>{const j=[...r.sections||[]];j[i].ingredients[x]=f,d(R=>({...R,sections:j}))},I=i=>{const x=[...r.sections||[]];x[i].ingredients.push(""),d(f=>({...f,sections:x}))},u=(i,x)=>{const f=[...r.sections||[]];f[i].ingredients.length>1&&(f[i].ingredients.splice(x,1),d(j=>({...j,sections:f})))},v=(i,x,f)=>{const j=[...r.sections||[]];j[i].instructions[x]=f,d(R=>({...R,sections:j}))},g=i=>{const x=[...r.sections||[]];x[i].instructions.push(""),d(f=>({...f,sections:x}))},p=(i,x)=>{const f=[...r.sections||[]];f[i].instructions.length>1&&(f[i].instructions.splice(x,1),d(j=>({...j,sections:f})))},E=i=>{const x=i.target.files?.[0];if(x){const f=new FileReader;f.onload=j=>{const R=j.target?.result;d(X=>({...X,image:R})),n(R)},f.readAsDataURL(x)}},A=i=>{i&&!r.tags.includes(i)&&d(x=>({...x,tags:[...x.tags,i]}))},K=i=>{d(x=>({...x,tags:x.tags.filter(f=>f!==i)}))},B=i=>{i.preventDefault();const x=(r.sections||[]).map(j=>({...j,ingredients:j.ingredients.filter(R=>R.trim()!==""),instructions:j.instructions.filter(R=>R.trim()!=="")})),f=r.ingredients.filter(j=>j.trim()!=="");t({...r,ingredients:f,sections:x})},q=Object.values(o).some(i=>i),Q=as(r.sections||[]),Ee=r.title.trim()!==""&&!q&&Q.isValid;return e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe Title *"}),e.jsx("input",{type:"text",id:"title",value:r.title,onChange:i=>w("title",i.target.value),className:"input-field",placeholder:"Enter recipe title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"input-field"}),m&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:m,alt:"Recipe preview",className:"w-32 h-32 object-cover rounded-lg"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{id:"category",value:r.category,onChange:i=>w("category",i.target.value),className:"input-field",children:Re.map(i=>e.jsx("option",{value:i,children:i},i))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cookTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cook Time"}),e.jsx("input",{type:"text",id:"cookTime",value:r.cookTime,onChange:i=>w("cookTime",i.target.value),className:"input-field",placeholder:"e.g., 30 min, 1 hour"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"prepTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prep Time"}),e.jsx("input",{type:"text",id:"prepTime",value:r.prepTime||"",onChange:i=>w("prepTime",i.target.value),className:"input-field",placeholder:"e.g., 15 min, 30 min"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),e.jsxs("select",{id:"difficulty",value:r.difficulty||"",onChange:i=>w("difficulty",i.target.value||void 0),className:"input-field",children:[e.jsx("option",{value:"",children:"Select difficulty"}),Se.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),e.jsx("input",{type:"url",id:"source",value:r.source||"",onChange:i=>w("source",i.target.value),className:"input-field",placeholder:"https://example.com/recipe"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastCooked",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Cooked"}),e.jsx("input",{type:"date",id:"lastCooked",value:r.lastCooked||"",onChange:i=>w("lastCooked",i.target.value),className:"input-field"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isFavorite||!1,onChange:i=>w("isFavorite",i.target.checked),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Mark as Favorite"})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipe Sections"}),e.jsx("button",{type:"button",onClick:C,className:"btn-outline text-sm",children:"+ Add Section"})]}),e.jsx("div",{className:"space-y-6",children:(r.sections||[]).map((i,x)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsx("input",{type:"text",value:i.label,onChange:f=>k(x,"label",f.target.value),className:`input-field ${o[x]?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,placeholder:"Section name (e.g., Crust, Filling, Topping)"}),o[x]&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:o[x]})]}),(r.sections||[]).length>1&&e.jsx("button",{type:"button",onClick:()=>y(x),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove Section"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Ingredients"}),e.jsxs("div",{className:"space-y-2",children:[i.ingredients.map((f,j)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:f,onChange:R=>F(x,j,R.target.value),className:"input-field flex-1",placeholder:"Enter ingredient"}),i.ingredients.length>1&&e.jsx("button",{type:"button",onClick:()=>u(x,j),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove"})]},j)),e.jsx("button",{type:"button",onClick:()=>I(x),className:"btn-outline text-sm",children:"+ Add Ingredient"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Instructions"}),e.jsxs("div",{className:"space-y-2",children:[i.instructions.map((f,j)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("span",{className:"flex-shrink-0 w-6 h-8 flex items-center justify-center text-sm font-medium text-gray-500",children:[j+1,"."]}),e.jsx("input",{type:"text",value:f,onChange:R=>v(x,j,R.target.value),className:"input-field flex-1",placeholder:"Enter instruction step"}),i.instructions.length>1&&e.jsx("button",{type:"button",onClick:()=>p(x,j),className:"px-3 py-2 text-red-600 hover:text-red-800",children:"Remove"})]},j)),e.jsx("button",{type:"button",onClick:()=>g(x),className:"btn-outline text-sm",children:"+ Add Step"})]})]})]},x))}),!Q.isValid&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"Section Label Issues:"}),e.jsx("ul",{className:"text-red-700 text-sm space-y-1",children:Q.errors.map((i,x)=>e.jsxs("li",{children:["â€¢ ",i]},x))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Ce.map(i=>e.jsx("button",{type:"button",onClick:()=>A(i),disabled:r.tags.includes(i),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${r.tags.includes(i)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:i},i))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:c,onChange:i=>h(i.target.value),onKeyPress:i=>{i.key==="Enter"&&(i.preventDefault(),A(c),h(""))},className:"input-field flex-1",placeholder:"Add custom tag"}),e.jsx("button",{type:"button",onClick:()=>{A(c),h("")},className:"btn-outline",children:"Add"})]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:r.tags.map(i=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-sage-100 text-sage-800",children:[i,e.jsx("button",{type:"button",onClick:()=>K(i),className:"ml-2 text-sage-600 hover:text-sage-800",children:"Ã—"})]},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx(H,{rating:r.rating,onRatingChange:i=>w("rating",i),interactive:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{id:"notes",value:r.notes,onChange:i=>w("notes",i.target.value),rows:3,className:"input-field",placeholder:"Any additional notes or tips"})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx("button",{type:"submit",disabled:!Ee,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:l}),a&&e.jsx("button",{type:"button",onClick:a,className:"btn-secondary",children:"Cancel"})]})]})},gs=()=>{const s=U(),{addRecipe:t}=L(),a=r=>{t(r),s("/recipes")},l=()=>{s("/recipes")};return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Recipe"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Create a new recipe by filling out the form below."})]}),e.jsx("div",{className:"card",children:e.jsx(re,{onSubmit:a,onCancel:l,submitText:"Save Recipe"})})]})]})},fs=async s=>{try{const t={title:"Scraped Recipe",ingredients:["2 cups all-purpose flour","1 cup sugar","1/2 cup butter","2 eggs","1 tsp vanilla extract"],instructions:"Mix all ingredients together. Bake at 350Â°F for 25-30 minutes until golden brown.",cookTime:"30 min",image:void 0};return await new Promise(a=>setTimeout(a,1e3)),t}catch(t){throw console.error("Failed to scrape recipe:",t),new Error("Failed to scrape recipe from URL")}},js=s=>({title:s.title,ingredients:s.ingredients,instructions:s.instructions,cookTime:s.cookTime||"",image:s.image,category:"Lunch/Dinner",tags:[],notes:"",rating:0}),ys=()=>{const s=U(),{addRecipe:t}=L(),[a,l]=b.useState(""),[r,d]=b.useState(!1),[c,h]=b.useState(null),[m,n]=b.useState(null),o=async()=>{if(!a.trim()){n("Please enter a recipe URL");return}d(!0),n(null),h(null);try{const y=await fs(a),k=js(y);h(k)}catch{n("Failed to scrape recipe. Please try a different URL or add the recipe manually.")}finally{d(!1)}},N=y=>{t(y),s("/recipes")},w=()=>{s("/recipes")},C=()=>{l(""),h(null),n(null)};return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Recipe from URL"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Paste a recipe URL below and we'll extract the recipe details for you."})]}),c?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ge,{className:"h-5 w-5 text-green-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Recipe Imported Successfully!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Review and edit the details below, then save to your collection."})]})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Recipe Details"}),e.jsx("button",{onClick:C,className:"btn-outline text-sm",children:"Start Over"})]}),e.jsx(re,{initialData:c,onSubmit:N,onCancel:w,submitText:"Save Imported Recipe"})]})]}):e.jsx("div",{className:"card",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe URL"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"url",id:"url",value:a,onChange:y=>l(y.target.value),placeholder:"https://example.com/recipe",className:"input-field flex-1"}),e.jsx("button",{onClick:o,disabled:r||!a.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Scraping..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Import"})]})})]})]}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(se,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Import Failed"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"How it works"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Paste any recipe URL from popular cooking websites"}),e.jsx("li",{children:"â€¢ We'll extract the title, ingredients, and instructions"}),e.jsx("li",{children:"â€¢ Review and edit the details before saving"}),e.jsx("li",{children:"â€¢ Add your own tags, notes, and rating"})]})]})]})})]})]})},bs=s=>{const t=s.split(`
`).filter(r=>r.trim());if(t.length<2)return[];const a=t[0].split(",").map(r=>r.trim().toLowerCase()),l=[];for(let r=1;r<t.length;r++){const d=t[r].split(",").map(h=>h.trim());if(d.length!==a.length)continue;const c={title:"",ingredients:[],instructions:"",cookTime:"",category:"Lunch/Dinner",tags:[],notes:"",rating:0};a.forEach((h,m)=>{const n=d[m];switch(h){case"title":case"name":c.title=n;break;case"ingredients":c.ingredients=n.split(";").map(o=>o.trim()).filter(o=>o);break;case"instructions":case"steps":c.instructions=n;break;case"cooktime":case"cook_time":c.cookTime=n;break;case"preptime":case"prep_time":c.prepTime=n;break;case"category":c.category=n||"Lunch/Dinner";break;case"tags":c.tags=n.split(";").map(o=>o.trim()).filter(o=>o);break;case"notes":c.notes=n;break;case"rating":c.rating=parseInt(n)||0;break;case"difficulty":c.difficulty=n||void 0;break;case"source":c.source=n;break;case"favorite":case"isfavorite":c.isFavorite=n.toLowerCase()==="true"||n==="1";break}}),c.title&&l.push(c)}return l},Ns=s=>{try{const t=JSON.parse(s);return Array.isArray(t)?t.map(a=>({title:a.title||"",ingredients:Array.isArray(a.ingredients)?a.ingredients:[],instructions:a.instructions||"",cookTime:a.cookTime||"",prepTime:a.prepTime||void 0,category:a.category||"Lunch/Dinner",tags:Array.isArray(a.tags)?a.tags:[],notes:a.notes||"",rating:a.rating||0,difficulty:a.difficulty||void 0,source:a.source||void 0,isFavorite:a.isFavorite||!1})):[]}catch(t){return console.error("Error parsing JSON:",t),[]}},vs=(s,t)=>{const a=[],l=t.map(r=>r.title.toLowerCase());return s.forEach(r=>{l.includes(r.title.toLowerCase())&&a.push(r.title)}),a},ws=s=>{const t=[];return s.forEach((a,l)=>{a.title.trim()||t.push(`Recipe ${l+1}: Missing title`),a.ingredients.length||t.push(`Recipe ${l+1}: Missing ingredients`),a.instructions.trim()||t.push(`Recipe ${l+1}: Missing instructions`),(a.rating<0||a.rating>5)&&t.push(`Recipe ${l+1}: Invalid rating (must be 0-5)`)}),t},ks=(s,t)=>{const a=vs(s,t),l=ws(s);return{recipes:s,duplicates:a,errors:l}},Rs=s=>s.map(t=>({...t,isFavorite:t.isFavorite||!1})),Ss=()=>{const s=U(),{bulkAddRecipes:t}=L(),[a,l]=b.useState(null),[r,d]=b.useState("csv"),[c,h]=b.useState(null),[m,n]=b.useState(new Set),[o,N]=b.useState(!1),[w,C]=b.useState(null),y=g=>{const p=g.target.files?.[0];p&&(l(p),h(null),C(null),n(new Set))},k=async()=>{if(a){N(!0),C(null);try{const g=await a.text();let p=[];if(r==="csv"?p=bs(g):p=Ns(g),p.length===0){C("No valid recipes found in the file");return}const E=JSON.parse(localStorage.getItem("myRecipesData")||"[]"),A=ks(p,E);h(A);const K=p.map((B,q)=>q).filter(B=>!A.duplicates.includes(p[B].title));n(new Set(K))}catch{C("Error processing file. Please check the format and try again.")}finally{N(!1)}}},F=g=>{const p=new Set(m);p.has(g)?p.delete(g):p.add(g),n(p)},I=()=>{m.size===c.recipes.length?n(new Set):n(new Set(c.recipes.map((g,p)=>p)))},u=()=>{if(!c)return;const g=Array.from(m).map(E=>c.recipes[E]).filter(E=>E),p=Rs(g);t(p),s("/recipes")},v=()=>{const g=r==="csv"?`title,ingredients,instructions,cookTime,prepTime,category,tags,notes,rating,difficulty,source,favorite
"Sample Recipe","ingredient1;ingredient2","Step 1;Step 2","30 min","10 min","Lunch/Dinner","easy;quick","Sample notes",4,"Easy","https://example.com",false`:JSON.stringify([{title:"Sample Recipe",ingredients:["ingredient1","ingredient2"],instructions:`Step 1
Step 2`,cookTime:"30 min",prepTime:"10 min",category:"Lunch/Dinner",tags:["easy","quick"],notes:"Sample notes",rating:4,difficulty:"Easy",source:"https://example.com",favorite:!1}],null,2),p=new Blob([g],{type:r==="csv"?"text/csv":"application/json"}),E=URL.createObjectURL(p),A=document.createElement("a");A.href=E,A.download=`recipe-template.${r}`,A.click(),URL.revokeObjectURL(E)};return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Import Recipes"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Import multiple recipes from CSV or JSON files."})]}),c?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Import Preview"}),e.jsx("button",{onClick:()=>{h(null),l(null),C(null)},className:"btn-outline text-sm",children:"Start Over"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:[c.recipes.length," Recipes Found"]})]})}),c.duplicates.length>0&&e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[c.duplicates.length," Duplicates"]})]})}),c.errors.length>0&&e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-red-800",children:[c.errors.length," Errors"]})]})})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:I,className:"btn-outline text-sm",children:m.size===c.recipes.length?"Deselect All":"Select All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[m.size," of ",c.recipes.length," selected"]})]})}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.recipes.map((g,p)=>e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${m.has(p)?"border-sage-300 bg-sage-50":"border-gray-200 hover:border-gray-300"} ${c.duplicates.includes(g.title)?"opacity-50":""}`,onClick:()=>!c.duplicates.includes(g.title)&&F(p),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[g.ingredients.length," ingredients â€¢ ",g.category]}),c.duplicates.includes(g.title)&&e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"âš ï¸ Duplicate - already exists"})]}),e.jsx("div",{className:"ml-4",children:e.jsx("input",{type:"checkbox",checked:m.has(p),onChange:()=>F(p),disabled:c.duplicates.includes(g.title),className:"h-4 w-4 text-sage-600 focus:ring-sage-500 border-gray-300 rounded"})})]})},p))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:u,disabled:m.size===0,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",m.size," Selected Recipes"]})})]}),c.errors.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Validation Errors:"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:c.errors.map((g,p)=>e.jsxs("li",{children:["â€¢ ",g]},p))})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"File Format"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"csv",checked:r==="csv",onChange:g=>d(g.target.value),className:"mr-2"}),e.jsx(Z,{className:"h-4 w-4 mr-1"}),"CSV"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"json",checked:r==="json",onChange:g=>d(g.target.value),className:"mr-2"}),e.jsx(Z,{className:"h-4 w-4 mr-1"}),"JSON"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"}),e.jsx("input",{type:"file",accept:r==="csv"?".csv":".json",onChange:y,className:"input-field"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx($e,{className:"h-5 w-5 text-blue-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Need a template?"}),e.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Download a sample ",r.toUpperCase()," file to see the expected format."]}),e.jsx("button",{onClick:v,className:"btn-outline text-sm mt-2",children:"Download Template"})]})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:k,disabled:!a||o,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Process File"})]})})})]})}),w&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(se,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Import Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:w})]})]})})]})]})]})},Cs=()=>{const{state:s,updateRecipe:t}=L(),[a,l]=b.useState("tags"),[r,d]=b.useState(null),[c,h]=b.useState(null),[m,n]=b.useState(""),o=Array.from(new Set(s.recipes.flatMap(u=>u.tags))).sort(),N=Array.from(new Set(s.recipes.map(u=>u.category))).sort(),w=(u,v)=>{if(!v.trim()||v===u)return;s.recipes.map(p=>({...p,tags:p.tags.map(E=>E===u?v:E)})).forEach(p=>t(p)),d(null)},C=u=>{if(!window.confirm(`Are you sure you want to delete the tag "${u}"? This will remove it from all recipes.`))return;s.recipes.map(g=>({...g,tags:g.tags.filter(p=>p!==u)})).forEach(g=>t(g))},y=()=>{if(!(!m.trim()||o.includes(m))){if(s.recipes.length>0){const u=s.recipes[0];t({...u,tags:[...u.tags,m]})}n("")}},k=(u,v)=>{if(!v.trim()||v===u)return;s.recipes.map(p=>({...p,category:p.category===u?v:p.category})).forEach(p=>t(p)),h(null)},F=u=>s.recipes.filter(v=>v.tags.includes(u)).length,I=u=>s.recipes.filter(v=>v.category===u).length;return e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Tags & Categories"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Organize your recipe collection by managing tags and categories."})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>l("tags"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="tags"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsxs("span",{children:["Tags (",o.length,")"]})]}),e.jsxs("button",{onClick:()=>l("categories"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="categories"?"bg-white text-sage-700 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsxs("span",{children:["Categories (",N.length,")"]})]})]})}),a==="tags"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Tag"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:m,onChange:u=>n(u.target.value),placeholder:"Enter tag name",className:"input-field flex-1",onKeyPress:u=>{u.key==="Enter"&&y()}}),e.jsxs("button",{onClick:y,disabled:!m.trim()||o.includes(m),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{children:"Add"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Tags"}),o.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tags found. Add some tags to your recipes!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(u=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:u}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>d(u),className:"text-gray-400 hover:text-gray-600",children:e.jsx(le,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>C(u),className:"text-gray-400 hover:text-red-600",children:e.jsx(fe,{className:"h-4 w-4"})})]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Used in ",F(u)," recipe",F(u)!==1?"s":""]}),r===u&&e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("input",{type:"text",defaultValue:u,className:"input-field text-sm flex-1",onKeyPress:v=>{v.key==="Enter"&&w(u,v.currentTarget.value)},autoFocus:!0}),e.jsx("button",{onClick:()=>d(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(W,{className:"h-4 w-4"})})]})]},u))})]})]}),a==="categories"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Categories"}),N.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No categories found."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(u=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:u}),e.jsx("div",{className:"flex space-x-1",children:e.jsx("button",{onClick:()=>h(u),className:"text-gray-400 hover:text-gray-600",children:e.jsx(le,{className:"h-4 w-4"})})})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Used in ",I(u)," recipe",I(u)!==1?"s":""]}),c===u&&e.jsxs("div",{className:"mt-3 flex space-x-2",children:[e.jsx("input",{type:"text",defaultValue:u,className:"input-field text-sm flex-1",onKeyPress:v=>{v.key==="Enter"&&k(u,v.currentTarget.value)},autoFocus:!0}),e.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(W,{className:"h-4 w-4"})})]})]},u))})]})})]})]})},Es=({recipe:s,onDelete:t,onToggleFavorite:a})=>{const l=()=>{window.confirm("Are you sure you want to delete this recipe?")&&t(s.id)},r=es(s),d=ss(s);return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(S,{to:"/recipes",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Recipes"})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.title}),a&&e.jsx("button",{onClick:()=>a(s.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(z,{className:`h-6 w-6 ${s.isFavorite?"text-red-500 fill-current":""}`})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ae[s.category]}`,children:[M[s.category]," ",s.category]}),s.cookTime&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),s.cookTime]}),e.jsx(H,{rating:s.rating,size:"lg"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(S,{to:`/recipes/${s.id}/edit`,className:"btn-outline-sm flex items-center space-x-1",children:[e.jsx(Ve,{className:"h-3 w-3"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:l,className:"btn-secondary-sm text-red-600 hover:text-red-800 hover:bg-red-50 flex items-center space-x-1",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsx("span",{children:"Delete"})]})]})]}),s.image&&e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-64 object-cover rounded-lg"})}),s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:s.tags.map((c,h)=>e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Y(c,h)}`,children:c},c))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ingredients"}),e.jsx("ul",{className:"space-y-2",children:r.map((c,h)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-sage-500 rounded-full mt-2 mr-3"}),e.jsx("span",{className:"text-gray-700",children:c})]},h))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Instructions"}),e.jsx("div",{className:"space-y-6",children:d.map((c,h)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[c.label!=="Main"&&e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3 pb-2 border-b border-gray-300",children:c.label}),e.jsx("div",{className:"space-y-3",children:c.instructions.map((m,n)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-sage-500 text-white text-sm font-medium rounded-full flex items-center justify-center mr-3 mt-0.5",children:n+1}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:m})]},n))})]},h))})]})]}),s.notes&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Notes"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.notes})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500",children:e.jsxs("p",{children:["Created: ",new Date(s.createdAt).toLocaleDateString(),s.updatedAt&&s.updatedAt!==s.createdAt&&e.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(s.updatedAt).toLocaleDateString()]})]})})]})]})},Ts=()=>{const{id:s}=me(),t=U(),{getRecipeById:a,deleteRecipe:l,toggleFavorite:r}=L(),d=s?a(s):void 0,c=h=>{l(h),t("/recipes")};return d?e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(Es,{recipe:d,onDelete:c,onToggleFavorite:r})})]}):e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"ðŸ”"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recipe Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The recipe you're looking for doesn't exist or has been deleted."}),e.jsx("button",{onClick:()=>t("/recipes"),className:"btn-primary",children:"Back to Recipes"})]})})]})},As=()=>{const{id:s}=me(),t=U(),{getRecipeById:a,updateRecipe:l}=L(),r=s?a(s):void 0,d=h=>{r&&(l({...r,...h}),t(`/recipes/${r.id}`))},c=()=>{t(r?`/recipes/${r.id}`:"/recipes")};return r?e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Recipe"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update your recipe details below."})]}),e.jsx("div",{className:"card",children:e.jsx(re,{initialData:r,onSubmit:d,onCancel:c,submitText:"Update Recipe"})})]})]}):e.jsxs("div",{className:"min-h-screen bg-cream-50",children:[e.jsx(T,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"ðŸ”"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recipe Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The recipe you're trying to edit doesn't exist or has been deleted."}),e.jsx("button",{onClick:()=>t("/recipes"),className:"btn-primary",children:"Back to Recipes"})]})})]})};function Fs(){return e.jsx(ds,{children:e.jsx(os,{children:e.jsx(De,{basename:"/recipes",children:e.jsx("div",{className:"min-h-screen bg-cream-50",children:e.jsxs(Le,{children:[e.jsx(D,{path:"/",element:e.jsx(ms,{})}),e.jsx(D,{path:"/recipes",element:e.jsx(ps,{})}),e.jsx(D,{path:"/new",element:e.jsx(gs,{})}),e.jsx(D,{path:"/import",element:e.jsx(ys,{})}),e.jsx(D,{path:"/import/bulk",element:e.jsx(Ss,{})}),e.jsx(D,{path:"/manage",element:e.jsx(Cs,{})}),e.jsx(D,{path:"/recipes/:id",element:e.jsx(Ts,{})}),e.jsx(D,{path:"/recipes/:id/edit",element:e.jsx(As,{})})]})})})})})}te.createRoot(document.getElementById("root")).render(e.jsx(Ae.StrictMode,{children:e.jsx(Fs,{})}));
